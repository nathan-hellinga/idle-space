{"version":3,"sources":["Components/controls/purchasable/purchasable.module.css","Components/colonyDisplays/assignments/assignments.module.css","Components/communications/communications.module.css","Components/controls/modal/modal.module.css","Pages/main/main.module.css","Components/controls/LaunchButton/launchPanel.module.css","Components/planetDisplay/planetDisplay.module.css","Components/story/firstPrestige/meetColony.module.css","Pages/colony/colony.module.css","Components/controls/pageSwitcher/pageSwitcher.module.css","GameData/FabObjects.js","GameData/ResearchObjects.js","GameData/colonyObjects.js","Redux/selectors.js","Util/FormatInt.js","Components/resourceDisplay/resourceDisplay.jsx","Components/planetDisplay/planetDisplay.jsx","Components/controls/purchasable/purchasable.jsx","Redux/actionTypes.js","Util/FabricatePricingFunction.js","Components/fabricatePanel.jsx","Redux/actions.js","Components/researchPanel.jsx","Util/CheckResearchUnlockable.js","Hooks/useShallowEqualSelector.js","Components/communications/communicationsPanel.jsx","Components/controls/modal/modal.jsx","Components/controls/LaunchButton/launchPanel.jsx","Hooks/useKeepPercent.js","Pages/main/main.jsx","Hooks/useInterval.js","Components/story/firstPrestige/meetColonyDialogPopup.jsx","Components/gameManager.jsx","Hooks/usePaused.js","Components/colonyDisplays/colonyOverview.jsx","Components/colonyDisplays/colonyResources.jsx","Components/colonyDisplays/colonyBuildingsPanel.jsx","Components/colonyDisplays/assignments/assignmentControl.jsx","Components/colonyDisplays/assignments/colonyAssignmentsPanel.jsx","Pages/colony/Colony.jsx","Components/controls/pageSwitcher/pageSwitcher.jsx","App.js","reportWebVitals.js","Redux/reducers/resources.js","Redux/reducers/sources.js","Redux/reducers/upgrades.js","Redux/reducers/communications.js","Redux/reducers/game.js","Redux/reducers/colony.js","Redux/reducers/index.js","Redux/store.js","Theme/darkTheme.js","index.js"],"names":["module","exports","fabObjects","spaceNet","title","subtitle","basePrice","costMultiFactor","baseIncome","message","drone","probe","lander","miningRig","droneFactory","launchFacility","spaceElevator","ResearchObjects","id","multiplier","fabType","dependencies","colonyObjects","hydroponics","workers","inputs","outputs","name","numerator","denominator","engineer","medic","cook","getResources","store","resources","current","getIncomeSources","sources","getSourceCurrentIncomes","incomes","Object","entries","sourceType","count","fabDetails","upgrades","upgradeId","upgrade","find","x","getIncomePerSecond","total","getResearched","getColonyResources","resourcesCopy","colony","key","value","Math","floor","getColonyResourcesPerSecond","loop","assignments","details","incomesCopy","input","inputRate","output","outputRate","getColonistAssignments","listenCommunications","communications","slice","reverse","formatInt","number","toFixed","replace","ResourceDisplay","useSelector","incomePerSecond","style","textAlign","marginBottom","FormatInt","marginTop","opacity","float","clear","PlanetDisplay","className","classes","planetDisplay","width","Purchasable","altText","owned","price","onPurchase","disabled","purchasable","ButtonBase","onClick","innerWrapper","join","content","content2","marginLeft","min","RESET","INCREASE_RESOURCES","DECREASE_RESOURCES","ADD_INCOME_SOURCE","BUY_UPGRADE","ADD_MESSAGE","RECEIVE_MESSAGE","CLEAR_MESSAGES","TOGGLE_PAUSE","PRESTIGE","CLOSE_STORY","ADD_BUILDING","INCREASE_COLONY_RESOURCE","DECREASE_COLONY_RESOURCE","ASSIGN_COLONIST","UN_ASSIGN_COLONIST","fabricatePricingFunction","fabItem","pow","FabricatePanel","dispatch","useDispatch","currentIncomeSources","prestige","state","game","mapObject","map","Grid","container","spacing","index","item","xs","FabricatePricingFunction","type","payload","addIncomeSource","ResearchPanel","researched","purchasedUpgrades","incomeSources","some","dependency","CheckResearchUnlockable","multi","buyUpgrade","useShallowEqualSelector","selector","shallowEqual","CommunicationsPanel","messages","formatMsg","msg","startsWith","substring","isImportant","wrapper","direction","received","priorityMessage","dangerouslySetInnerHTML","__html","startDelay","onTypingDone","cursor","show","blink","element","hideWhenDone","hideWhenDoneDelay","Modal","open","actions","children","backdrop","length","action","Button","variant","color","label","LaunchPanel","num","launchFacilityCount","currentPrestige","keepPercent","useState","factor","setFactor","elevatorCount","eq","useEffect","useKeepPercent","launchConfirmation","setLaunchConfirmation","launchConfirmActions","display","flexDirection","alignItems","launchText","subtext","fullWidth","Divider","backgroundColor","margin","Main","openTab","setOpenTab","height","sm","md","sidePanel","overflow","ButtonGroup","useInterval","callback","delay","savedCallback","useRef","last","performance","now","init","setInterval","time","delta","clearInterval","MeetColonyDialogPopup","storyShow","meetColony","setDoneTyping","typistWrapper","fontSize","Delay","ms","GameManager","colonyIncomes","paused","reduce","a","increases","window","resetGame","addResources","amount","console","log","ColonyOverview","population","colonyResources","paddingTop","values","r","ColonyResources","ColonyBuildingsPanel","buildings","AssignmentControl","assigned","controlWrapper","titles","controls","assignedCount","up","IconButton","size","down","ColonyAssignmentsPanel","generateSubtitle","s","push","Colony","PageSwitcher","props","location","useLocation","history","useHistory","pathname","App","padding","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","keys","appReducer","combineReducers","max","keepAmount","ceil","Set","copy","research","newState","newResources","assignmentCopy","maxAssigned","totalAssigned","diff","i","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","storage","persistedReducer","persistReducer","removeItem","undefined","createStore","applyMiddleware","persistor","persistStore","createTheme","palette","ReactDOM","render","StrictMode","loading","theme","darkTheme","document","getElementById"],"mappings":"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","file":"static/js/main.7a3f97d1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"purchasable\":\"purchasable_purchasable__26Bmy\",\"innerWrapper\":\"purchasable_innerWrapper__1BvjA\",\"disabled\":\"purchasable_disabled__1T2uz\",\"content\":\"purchasable_content__11xw4\",\"content2\":\"purchasable_content2__1IbH-\",\"owned\":\"purchasable_owned__1Rpee\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controlWrapper\":\"assignments_controlWrapper__1Vt46\",\"titles\":\"assignments_titles__UzqUJ\",\"controls\":\"assignments_controls__35xmT\",\"up\":\"assignments_up__2DFGc\",\"down\":\"assignments_down__28gf3\",\"assignedCount\":\"assignments_assignedCount__3rnZN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"communications_wrapper__3qRre\",\"message\":\"communications_message__3vtW6\",\"priorityMessage\":\"communications_priorityMessage__1Nwzh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"modal_backdrop__19mz5\",\"wrapper\":\"modal_wrapper__2UEXh\",\"actions\":\"modal_actions__1e5yH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidePanel\":\"main_sidePanel__2bUyy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"launchText\":\"launchPanel_launchText__FT86o\",\"subtext\":\"launchPanel_subtext__3dYVR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"planetDisplay\":\"planetDisplay_planetDisplay__2xmBv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"typistWrapper\":\"meetColony_typistWrapper__3SuDz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"colony_wrapper__4WcZW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"pageSwitcher_wrapper__3NFYx\"};","export const fabObjects = {\r\n  spaceNet: {\r\n    title: 'Space Net',\r\n    subtitle: \"Catches things that float into the nets\",\r\n    basePrice: 25,\r\n    costMultiFactor: 1.07,\r\n    baseIncome: 1,\r\n    message: \"Nets? In Space? You wont catch any fish but you might catch some stray rocks or aliens or something. \" +\r\n      \"Anything we catch in the nets will be melted down and processed into raw materials to use with the fabricators.\"\r\n  },\r\n  drone: {\r\n    title: 'Drone',\r\n    subtitle: \"Orbits the target and automatically mines using lasers\",\r\n    basePrice: 500,\r\n    costMultiFactor: 1.08,\r\n    baseIncome: 10,\r\n    message: \"Drones will be able to get in much closer the the surface of the object.\"\r\n  },\r\n  probe: {\r\n    title: 'Probe',\r\n    subtitle: \"Launch a probe to drill core samples from the surface\",\r\n    basePrice: 5500,\r\n    costMultiFactor: 1.09,\r\n    baseIncome: 75,\r\n    message: \"\"\r\n  },\r\n  lander: {\r\n    title: 'Lander',\r\n    subtitle: \"Send a small lander to the surface to do mobile excavation\",\r\n    basePrice: 85000,\r\n    costMultiFactor: 1.10,\r\n    baseIncome: 250,\r\n    message: \"Small little land rovers similar to the ones the Inter-Planetary Union used to survey Mars before its colonization.\"\r\n  },\r\n  miningRig: {\r\n    title: 'Mining Rig',\r\n    subtitle: \"Establish a semi-permanent mining structure on the surface\",\r\n    basePrice: 500000,\r\n    costMultiFactor: 1.11,\r\n    baseIncome: 850,\r\n    message: \"We have established a proper mining facility on the surface. We can now really start to screw this place up.\"\r\n  },\r\n  droneFactory: {\r\n    title: 'Drone Factory',\r\n    subtitle: \"No it does not make more drones, it is run by drones\",\r\n    basePrice: 2500000,\r\n    costMultiFactor: 1.12,\r\n    baseIncome: 2000,\r\n    message: \"Surprise! The factory actually does make more drones, what a deal!\"\r\n  },\r\n  launchFacility: {\r\n    title: 'Orbital Launch',\r\n    subtitle: \"A proper orbital launch facility will allow us to get resources off the surface of this rock\",\r\n    basePrice: 10000000,\r\n    costMultiFactor: 1.14,\r\n    baseIncome: 2500,\r\n    message: \"!We can now get resources into orbit and return to Earth with our spoils. With only 1 launch facility \" +\r\n      \"we won't be able to get much into orbit though. Build more launch facilities and space elevators to increase \" +\r\n      \"how much of our resources we can take back with us.\"\r\n  },\r\n  spaceElevator: {\r\n    title: 'Space Elevator',\r\n    subtitle: \"A space elevator will help us get even more resources into orbit before we blast back to earth rich\",\r\n    basePrice: 5000000,\r\n    costMultiFactor: 1.15,\r\n    baseIncome: 3500,\r\n    message: \"The more orbital launch facilities and space elevators we have when we launch for earth the more of the resources \" +\r\n      \"we have extracted we will be able to take with us.\"\r\n  },\r\n}","\r\n\r\nexport const ResearchObjects = [\r\n  // SPACE NET\r\n  {\r\n    id: \"sn1\",\r\n    title: 'Improved Space Nets',\r\n    subtitle: \"Bigger nets = more space junk. This one is pretty self-explanatory\",\r\n    message: \"Double the size of the nets, if you make these nets any bigger we might actually catch some space fish.\",\r\n    multiplier: 3,\r\n    fabType: 'spaceNet',\r\n    basePrice: 10000,\r\n    dependencies: []\r\n  },\r\n  {\r\n    id: 'sn2',\r\n    title: 'Improved Space Nets II',\r\n    subtitle: \"Have you have tried eating soup off a plate? Yeah well we made the nets more like bowls now\",\r\n    message: \"Did that make sense? Bowls?... the nets are deeper now so we can catch bigger stuff, kind of like a baseball glove.\",\r\n    multiplier: 4,\r\n    fabType: 'spaceNet',\r\n    basePrice: 30000,\r\n    dependencies: ['sn1']\r\n  },\r\n  {\r\n    id: 'sn3',\r\n    title: 'Improved Space Nets III',\r\n    subtitle: \"We added titanium threads to the net to catch more volatile space junk like meteorites or knives\",\r\n    message: \"We doubled the efficiency of the nets again, I think that makes it 3^6 or !(2^3) times better. They are \" +\r\n      \"stronger now so we can catch pretty much anything.\",\r\n    multiplier: 8,\r\n    fabType: 'spaceNet',\r\n    basePrice: 150000,\r\n    dependencies: ['sn2']\r\n  },\r\n  // DRONES\r\n  {\r\n    id: 'dr1',\r\n    title: 'Improved Drones I',\r\n    subtitle: \"Improved drone batteries and auto pilot software lets us more efficiently control more drones without crashing them into each other\",\r\n    message: \"We didnt actually improve anything, we just put extra batteries on them its not astrophysics.\",\r\n    multiplier: 3,\r\n    fabType: 'drone',\r\n    basePrice: 125000,\r\n    dependencies: []\r\n  },\r\n  {\r\n    id: 'dr2',\r\n    title: 'Improved Drones II',\r\n    subtitle: \"Improved aerial reconnaissance lets the drones find more mineral rich deposits to improve their efficiency\",\r\n    message: \"Would you believe it if I told you before this upgrade I was controlling every single one of these drones?\",\r\n    multiplier: 5,\r\n    fabType: 'drone',\r\n    basePrice: 225000,\r\n    dependencies: ['dr1']\r\n  },\r\n  // PROBE\r\n  {\r\n    id: 'pr1',\r\n    title: 'Improved Probes I',\r\n    subtitle: \"More powerful onboard generators allow us to probe deeper\",\r\n    message: \"Each probe is now equipped with a thermo-radio isotope generator capable of up to 500W. Dont ask where we got the radioactive material, \" +\r\n      \"also... check yourself regularly.\",\r\n    multiplier: 2,\r\n    fabType: 'probe',\r\n    basePrice: 1375000,\r\n    dependencies: []\r\n  },\r\n  {\r\n    id: 'pr2',\r\n    title: 'Improved Probes II',\r\n    subtitle: \"Liquid cooling vents let the probes drill harder and for longer\",\r\n    message: \"The probes can now scan for sub-surface liquids, drill for said liquids, and re-circulate the liquid through \" +\r\n      \"its drilling mantle. Pretty clever.\",\r\n    multiplier: 3,\r\n    fabType: 'probe',\r\n    basePrice: 6875000,\r\n    dependencies: ['pr1']\r\n  },\r\n  // PROBE\r\n  {\r\n    id: 'ld1',\r\n    title: 'Improved Landers I',\r\n    subtitle: \"Improve the lander with a bigger drilling bit and a tiny shovel. We also gave them emotions, but only sadness so they feel bad when they keep getting stuck in holes\",\r\n    message: \"Each land rover now feels an overwhelming sadness when it gets stuck on rocks and in holes. My research \" +\r\n      \"seems to indicate this will make them try harder to not get stuck in holes but somehow \" +\r\n      \"I think we might just end up with depressed probes.\",\r\n    multiplier: 2,\r\n    fabType: 'lander',\r\n    basePrice: 21250000,\r\n    dependencies: []\r\n  },\r\n  {\r\n    id: 'ld2',\r\n    title: 'Improved Landers II',\r\n    subtitle: \"These guys are so cute, we gave them little backpacks too so they could... cary more stuff?\",\r\n    message: \"Depressed little surface trucks... but with accessories!\",\r\n    multiplier: 2,\r\n    fabType: 'lander',\r\n    basePrice: 106250000,\r\n    dependencies: ['ld1']\r\n  },\r\n  {\r\n    id: 'mr1',\r\n    title: 'Improved Mining Rigs I',\r\n    subtitle: \"Improve the mining capabilities of the rig with ancient alien technology\",\r\n    message: \"The ancient alien technology is... diesel... Yes technically the aliens have been dead for a while. \" +\r\n      \"We did say ancient.\",\r\n    multiplier: 1.5,\r\n    fabType: 'miningRig',\r\n    basePrice: 300000000,\r\n    dependencies: []\r\n  },\r\n  {\r\n    id: 'mr2',\r\n    title: 'Improved Mining Rigs II',\r\n    subtitle: \"Improve the mining capabilities of the rig with ancient alien technology\",\r\n    message: \"\",\r\n    multiplier: 2,\r\n    fabType: 'miningRig',\r\n    basePrice: 1500000000,\r\n    dependencies: [\"mr1\"]\r\n  },\r\n  {\r\n    id: 'df1',\r\n    title: 'Improved Drone Factory I',\r\n    subtitle: \"We make more drones that make more drones that make more drones...\",\r\n    message: \"\",\r\n    multiplier: 1.5,\r\n    fabType: 'droneFactory',\r\n    basePrice: 187500000,\r\n    dependencies: []\r\n  },\r\n  {\r\n    id: 'df2',\r\n    title: 'Improved Drone Factory II',\r\n    subtitle: \"We make more drones that make more drones that make more drones...\",\r\n    message: \"\",\r\n    multiplier: 1.5,\r\n    fabType: 'droneFactory',\r\n    basePrice: 937500000,\r\n    dependencies: [\"df1\"]\r\n  },\r\n  {\r\n    id: 'lf1',\r\n    title: 'Improved Launch Facility I',\r\n    subtitle: \"A second launch pad will let us launch twice as many rockets\",\r\n    message: \"\",\r\n    multiplier: 2,\r\n    fabType: 'launchFacility',\r\n    basePrice: 2200000000,\r\n    dependencies: []\r\n  },\r\n  {\r\n    id: 'lf2',\r\n    title: 'Improved Launch Facility II',\r\n    subtitle: \"A third launch pad will let us launch three times as many rockets\",\r\n    message: \"\",\r\n    multiplier: 1.5,\r\n    fabType: 'launchFacility',\r\n    basePrice: 7600000000,\r\n    dependencies: [\"lf1\"]\r\n  },\r\n  {\r\n    id: 'se1',\r\n    title: 'Improved Space Elevator I',\r\n    subtitle: \"They said I could be anything so I became a space rope\",\r\n    message: \"\",\r\n    multiplier: 1.25,\r\n    fabType: 'spaceElevator',\r\n    basePrice: 20000000000,\r\n    dependencies: []\r\n  },\r\n  {\r\n    id: 'se2',\r\n    title: 'Improved Space Elevator II',\r\n    subtitle: \"Rope thicker rope stronger = bigger loads\",\r\n    message: \"\",\r\n    multiplier: 1.25,\r\n    fabType: 'spaceElevator',\r\n    basePrice: 40000000000,\r\n    dependencies: ['se1']\r\n  },\r\n]","export const colonyObjects = {\r\n  hydroponics: {\r\n    title: \"Hydroponics Lab\",\r\n    subtitle: \"A hydroponics lab will allow us to start growing our own plant matter. Its not tasty but at least we wont starve.\",\r\n    basePrice: 10000,\r\n    costMultiFactor: 2,\r\n    workers: 3,\r\n    inputs : [],\r\n    outputs: [\r\n      {\r\n        name: 'biomass',\r\n        numerator: 3,\r\n        denominator: 60\r\n      }\r\n    ]\r\n  },\r\n  engineer:{\r\n    title: \"Engineers Workshop\",\r\n    subtitle: \"Our systems are in dire need of maintenance, proper engineering training and tools would let us \" +\r\n      \"better maintain our life support and other systems\",\r\n    basePrice: 50000,\r\n    costMultiFactor: 2,\r\n    workers: 1,\r\n    inputs: [],\r\n    outputs: [\r\n      {\r\n        name: 'steel',\r\n        numerator: 1,\r\n        denominator: 60\r\n      },\r\n      {\r\n        name: 'tech',\r\n        numerator: 1,\r\n        denominator: 60\r\n      },\r\n    ]\r\n  },\r\n  medic: {\r\n    title: \"Medical Center\",\r\n    subtitle: \"A medical center is good because we are all addicted to martian meth\",\r\n    basePrice: 100000,\r\n    costMultiFactor: 2,\r\n    workers: 1,\r\n    inputs : [\r\n      {\r\n        name: 'tech',\r\n        numerator: 5,\r\n        denominator: 60\r\n      },\r\n      {\r\n        name: 'biomass',\r\n        numerator: 2,\r\n        denominator: 60\r\n      }\r\n    ],\r\n    outputs: [\r\n      {\r\n        name: 'meds',\r\n        numerator: 1,\r\n        denominator: 60\r\n      }\r\n    ]\r\n  },\r\n  cook: {\r\n    title: \"Kitchen\",\r\n    subtitle: \"Cooking facilities will let us turn the biomass into proper food. Eating biomass sucks.\",\r\n    basePrice: 200000,\r\n    costMultiFactor: 2,\r\n    workers: 2,\r\n    inputs : [\r\n      {\r\n        name: 'biomass',\r\n        numerator: 4,\r\n        denominator: 60\r\n      }\r\n    ],\r\n    outputs: [\r\n      {\r\n        name: 'food',\r\n        numerator: 2,\r\n        denominator: 60\r\n      }\r\n    ]\r\n  },\r\n}","import {fabObjects} from \"../GameData/FabObjects\";\r\nimport {ResearchObjects} from \"../GameData/ResearchObjects\";\r\nimport {colonyObjects} from \"../GameData/colonyObjects\";\r\n\r\nexport const getResources = store => store.resources.current;\r\nexport const getIncomeSources = store => store.sources;\r\n\r\nexport const getSourceCurrentIncomes = store => {\r\n  // todo multiply each source by any upgrades\r\n  let incomes = {}\r\n  for (const [sourceType, count] of Object.entries(store.sources)) {\r\n    const fabDetails = fabObjects[sourceType];\r\n    if (fabDetails){\r\n      let multiplier = 1;\r\n      for (const upgradeId of store.upgrades) {\r\n        const upgrade = ResearchObjects.find(x => x.id === upgradeId);\r\n        if(upgrade?.fabType === sourceType){\r\n          multiplier = multiplier * upgrade.multiplier;\r\n        }\r\n      }\r\n      incomes[sourceType] = fabDetails.baseIncome * count * multiplier;\r\n    }\r\n  }\r\n  return incomes;\r\n};\r\n\r\n\r\nexport const getIncomePerSecond = store => {\r\n  // calculate the total income / second\r\n  let total = 0;\r\n  for (const [sourceType, count] of Object.entries(store.sources)) {\r\n    const fabDetails = fabObjects[sourceType];\r\n    if (fabDetails){\r\n      let multiplier = 1;\r\n      for (const upgradeId of store.upgrades) {\r\n        const upgrade = ResearchObjects.find(x => x.id === upgradeId);\r\n        if(upgrade?.fabType === sourceType){\r\n          multiplier = multiplier * upgrade.multiplier;\r\n        }\r\n      }\r\n      total += fabDetails.baseIncome * count * multiplier;\r\n    }\r\n  }\r\n  return total;\r\n}\r\n\r\nexport const getResearched = store => {\r\n  return store.upgrades;\r\n}\r\n\r\nexport const getColonyResources = store => {\r\n  let resourcesCopy = {...store.colony.resources};\r\n  for (const [key, value] of Object.entries(resourcesCopy)) {\r\n    resourcesCopy[key] = Math.floor(value);\r\n  }\r\n  return resourcesCopy;\r\n}\r\n\r\nexport const getColonyResourcesPerSecond = store => {\r\n  let incomes = {};\r\n\r\n  loop:\r\n  for (const [key, value] of Object.entries(store.colony.assignments)) {\r\n    const details = colonyObjects[key];\r\n    if(!details) continue;\r\n\r\n    // if there are inputs, make sure we have enough to proceed else abort\r\n    let incomesCopy = {...incomes}; // change the copy, if we cant pay all inputs the copy is discarded\r\n    for (const input of details.inputs) {\r\n      const inputRate = input.numerator/input.denominator * value;\r\n      if((store.colony.resources[input.name] ?? 0) < inputRate){\r\n        continue loop;\r\n      }else{\r\n        incomesCopy[input.name] = (incomesCopy[input.name] ?? 0) - inputRate;\r\n      }\r\n    }\r\n    incomes = incomesCopy;  // since we can pay all inputs, we use the copy\r\n    for (const output of details.outputs) {\r\n      const outputRate = output.numerator/output.denominator * value;\r\n      incomes[output.name] = (incomesCopy[output.name] ?? 0) + outputRate;\r\n    }\r\n  }\r\n  return incomes;\r\n}\r\n\r\nexport const getColonistAssignments = store => {\r\n  return store.colony.assignments;\r\n}\r\n\r\nexport const listenCommunications = store => {\r\n  return store.communications.slice(-20).reverse();\r\n}\r\n","export default function formatInt(number){\r\n  return number.toFixed().replace(/(\\d)(?=(\\d{3})+$)/g, '$1,');\r\n}","import {useSelector} from \"react-redux\";\r\nimport {getIncomePerSecond, getResources} from \"../../Redux/selectors\";\r\nimport FormatInt from \"../../Util/FormatInt\";\r\n\r\n\r\nexport default function ResourceDisplay(){\r\n  const resources = useSelector(getResources);\r\n  const incomePerSecond = useSelector(getIncomePerSecond);\r\n\r\n  return(\r\n    <div>\r\n      <h1 style={{textAlign: 'right', marginBottom: 0}}>{FormatInt(resources)}</h1>\r\n      <h2 style={{marginTop: '-10px', marginBottom: 0, opacity: 0.5, float: 'left'}}>Resources</h2>\r\n      <h2 style={{marginTop: '-10px', marginBottom: 0, opacity: 0.5, float: 'right'}}>{FormatInt(incomePerSecond)}/s</h2>\r\n      <div style={{clear: \"both\"}}/>\r\n    </div>\r\n  )\r\n}","import classes from \"./planetDisplay.module.css\";\r\n\r\nexport default function PlanetDisplay(){\r\n\r\n  return(\r\n    <div className={classes.planetDisplay}>\r\n      <h3 style={{opacity: 0.5, float: 'left', width: '49%'}}>Asteroid: AX62</h3>\r\n      <h3 style={{opacity: 0.5, textAlign: 'right', float: 'right', width: '49%'}}>000001.01.15</h3>\r\n      <h3 style={{opacity: 0.5, clear: 'both'}}>Resource Density: Low</h3>\r\n      <h3 style={{opacity: 0.5, clear: 'both'}}>Life: None</h3>\r\n    </div>\r\n  )\r\n}","import classes from \"./purchasable.module.css\";\r\nimport {ButtonBase} from \"@material-ui/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport FormatInt from \"../../../Util/FormatInt\";\r\n\r\n\r\nexport default function Purchasable({title, subtitle, altText, owned, price, onPurchase, disabled}) {\r\n\r\n\r\n  return (\r\n    <div className={classes.purchasable}>\r\n      <ButtonBase style={{width: '100%'}} disabled={disabled} onClick={onPurchase}>\r\n        <div className={[classes.innerWrapper, disabled && classes.disabled].join(\" \")}>\r\n\r\n          <div className={classes.content} style={{width: owned >= 0 ? '60%' : '100%'}}>\r\n            <h1>{title}</h1>\r\n            <h3 style={{marginTop: 'auto'}}>{FormatInt(price)}</h3>\r\n          </div>\r\n          <div className={classes.content2} style={{width: owned >= 0 ? '60%' : '100%'}}>\r\n            <p style={{marginBottom: '4px'}}>{subtitle}</p>\r\n            <p style={{opacity: 0.7, marginTop: 'auto'}}>{altText}</p>\r\n          </div>\r\n          {\r\n            owned >= 0 &&\r\n            <div style={{width: '40%', marginLeft: 'auto'}}>\r\n              <span className={classes.owned}>{Math.min(999, owned)}</span>\r\n            </div>\r\n          }\r\n\r\n        </div>\r\n      </ButtonBase>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nPurchasable.propTypes = {\r\n  title: PropTypes.string,\r\n  subtitle: PropTypes.string,\r\n  altText: PropTypes.string,\r\n  owned: PropTypes.number,\r\n  price: PropTypes.number,\r\n  onPurchase: PropTypes.func,\r\n  disabled: PropTypes.bool\r\n};","export const RESET = 'RESET';\r\n\r\nexport const INCREASE_RESOURCES = \"INCREASE_RESOURCES\";\r\nexport const DECREASE_RESOURCES = \"DECREASE_RESOURCES\";\r\n\r\nexport const ADD_INCOME_SOURCE = \"ADD_INCOME_SOURCE\";\r\n\r\nexport const BUY_UPGRADE = \"BUY_UPGRADE\";\r\n\r\nexport const ADD_MESSAGE = \"ADD_MESSAGE\";\r\nexport const RECEIVE_MESSAGE = \"RECEIVE_MESSAGE\";\r\nexport const CLEAR_MESSAGES = \"CLEAR_MESSAGES\";\r\n\r\nexport const TOGGLE_PAUSE = \"TOGGLE_PAUSE\";\r\nexport const PRESTIGE = \"PRESTIGE\";\r\nexport const CLOSE_STORY = \"CLOSE_STORY\";\r\n\r\n// COLONY\r\nexport const ADD_BUILDING = \"ADD_BUILDING\";\r\nexport const INCREASE_COLONY_RESOURCE = \"INCREASE_COLONY_RESOURCE\";\r\nexport const DECREASE_COLONY_RESOURCE = \"DECREASE_COLONY_RESOURCE\";\r\nexport const ASSIGN_COLONIST = \"ASSIGN_COLONIST\";\r\nexport const UN_ASSIGN_COLONIST = \"UN_ASSIGN_COLONIST\";\r\n","export default function fabricatePricingFunction(fabItem, count){\r\n  return Math.floor(fabItem.basePrice * Math.pow(fabItem.costMultiFactor, count))\r\n}","import Purchasable from \"./controls/purchasable/purchasable\";\r\nimport {fabObjects} from \"../GameData/FabObjects\";\r\nimport {Grid} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getIncomePerSecond, getIncomeSources, getResources, getSourceCurrentIncomes} from \"../Redux/selectors\";\r\nimport {addIncomeSource} from \"../Redux/actions\";\r\nimport FabricatePricingFunction from \"../Util/FabricatePricingFunction\";\r\nimport FormatInt from \"../Util/FormatInt\";\r\n\r\n\r\nexport default function FabricatePanel() {\r\n  const dispatch = useDispatch();\r\n  const sources = useSelector(getIncomeSources);\r\n  const incomePerSecond = useSelector(getIncomePerSecond);\r\n  const currentIncomeSources = useSelector(getSourceCurrentIncomes);\r\n  const resources = useSelector(getResources)\r\n  const prestige = useSelector(state => state.game.prestige);\r\n\r\n  const mapObject = Object.entries(fabObjects).map(([key, value]) => ({...value, key}))\r\n\r\n  return (\r\n    <Grid container spacing={1} style={{marginTop: '10px'}}>\r\n      {mapObject.map((details, index) => {\r\n          if (index === 0 || sources[mapObject[index - 1].key] > 0) {\r\n            return (\r\n              <Grid item xs={12} key={`fabrication_option_${details.key}`}>\r\n                <Purchasable\r\n                  title={details.title}\r\n                  subtitle={details.subtitle}\r\n                  altText={`${FormatInt((currentIncomeSources[details.key] / sources[details.key]) || details.baseIncome)}/s - ${(currentIncomeSources[details.key] / incomePerSecond * 100 || 0).toFixed(1)}% of total`}\r\n                  owned={sources[details.key]}\r\n                  price={FabricatePricingFunction(details, sources[details.key])}\r\n                  disabled={resources < FabricatePricingFunction(details, sources[details.key])}\r\n                  onPurchase={() => {\r\n                    dispatch(addIncomeSource(details.key, sources[details.key], FabricatePricingFunction(details, sources[details.key]), prestige));\r\n                  }}\r\n                />\r\n              </Grid>\r\n            )\r\n          } else {\r\n            return null;\r\n          }\r\n        }\r\n      )}\r\n    </Grid>\r\n  )\r\n}","import {\r\n  ADD_BUILDING,\r\n  ADD_INCOME_SOURCE,\r\n  ADD_MESSAGE,\r\n  ASSIGN_COLONIST,\r\n  BUY_UPGRADE,\r\n  CLEAR_MESSAGES,\r\n  CLOSE_STORY,\r\n  DECREASE_COLONY_RESOURCE,\r\n  DECREASE_RESOURCES,\r\n  INCREASE_COLONY_RESOURCE,\r\n  INCREASE_RESOURCES,\r\n  PRESTIGE,\r\n  RECEIVE_MESSAGE,\r\n  TOGGLE_PAUSE,\r\n  UN_ASSIGN_COLONIST,\r\n} from \"./actionTypes\";\r\n\r\nexport const increaseResources = (amount) => ({\r\n  type: INCREASE_RESOURCES,\r\n  payload: amount\r\n})\r\n\r\nexport const decreaseResources = (amount) => ({\r\n  type: DECREASE_RESOURCES,\r\n  payload: amount\r\n})\r\n\r\n/**\r\n *\r\n * @param type the type of income source to add\r\n * @param count the current count of this income source\r\n * @param price the price the income source currently costs\r\n */\r\nexport const addIncomeSource = (type, count, price, prestige) => ({\r\n  type: ADD_INCOME_SOURCE,\r\n  payload: {\r\n    type, count, price, prestige\r\n  }\r\n})\r\n\r\nexport const buyUpgrade = (id, price, prestige) => ({\r\n  type: BUY_UPGRADE,\r\n  payload: {\r\n    id,\r\n    price,\r\n    prestige\r\n  }\r\n})\r\n\r\nexport const addMessage = (message, delay = 3) => ({\r\n  type: ADD_MESSAGE,\r\n  payload: {\r\n    message,\r\n    delay\r\n  }\r\n})\r\n\r\nexport const receiveMessage = (index) => ({\r\n  type: RECEIVE_MESSAGE,\r\n  payload: {\r\n    index,\r\n  }\r\n})\r\n\r\nexport const clearMessages = (index) => ({\r\n  type: CLEAR_MESSAGES,\r\n  payload: {}\r\n})\r\n\r\nexport const togglePaused = () => ({\r\n  type: TOGGLE_PAUSE,\r\n  payload: {}\r\n})\r\n\r\nexport const prestige = (currentPrestige, keepPercent) => ({\r\n  type: PRESTIGE,\r\n  payload: {\r\n    currentPrestige,\r\n    keepPercent\r\n  }\r\n})\r\n\r\nexport const closeStory = (type) => ({\r\n  type: CLOSE_STORY,\r\n  payload: {\r\n    type\r\n  }\r\n})\r\n\r\nexport const increaseColonyResources = (increases) => ({\r\n  type: INCREASE_COLONY_RESOURCE,\r\n  payload: {\r\n    increases\r\n  }\r\n})\r\n\r\nexport const decreaseColonyResources = (decreases) => ({\r\n  type: DECREASE_COLONY_RESOURCE,\r\n  payload: {\r\n    decreases\r\n  }\r\n})\r\n\r\nexport const addBuilding = (type, count, price,) => ({\r\n  type: ADD_BUILDING,\r\n  payload: {\r\n    type,\r\n    count,\r\n    price\r\n  }\r\n})\r\n\r\nexport const assignColonist = (type) => ({\r\n  type: ASSIGN_COLONIST,\r\n  payload: {\r\n    type\r\n  }\r\n})\r\n\r\nexport const unAssignColonist = (type) => ({\r\n  type: UN_ASSIGN_COLONIST,\r\n  payload: {\r\n    type\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {Grid} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getIncomeSources, getResearched, getResources} from \"../Redux/selectors\";\r\nimport {ResearchObjects} from \"../GameData/ResearchObjects\";\r\nimport CheckResearchUnlockable from \"../Util/CheckResearchUnlockable\";\r\nimport Purchasable from \"./controls/purchasable/purchasable\";\r\nimport {buyUpgrade} from \"../Redux/actions\";\r\n\r\n\r\nexport default function ResearchPanel(){\r\n  const dispatch = useDispatch();\r\n  const resources = useSelector(getResources)\r\n  const researched = useSelector(getResearched);\r\n  const sources = useSelector(getIncomeSources);\r\n  const prestige = useSelector(state => state.game.prestige)\r\n\r\n\r\n  const generateAltText = (multi) => {\r\n    if(multi >= 2){\r\n      return `${multi}x multiplier`\r\n    }else{\r\n      // multi must be between 1 - 2\r\n      multi -= 1;\r\n      multi *= 100;\r\n      return `${multi.toFixed(0)}% increase`\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Grid container spacing={1} style={{marginTop: '10px'}}>\r\n      {ResearchObjects.map(item => {\r\n        if(CheckResearchUnlockable(item.id, researched, sources)){\r\n          return(\r\n            <Grid item xs={12} key={`research_option_${item.id}`}>\r\n              <Purchasable\r\n                title={item.title}\r\n                subtitle={item.subtitle}\r\n                price={item.basePrice}\r\n                disabled={resources < item.basePrice}\r\n                altText={generateAltText(item.multiplier)}\r\n                onPurchase={() => {\r\n                  dispatch(buyUpgrade(item.id, item.basePrice, prestige));\r\n                }}\r\n              />\r\n            </Grid>\r\n          )\r\n        }else{\r\n          return null;\r\n        }\r\n      })}\r\n    </Grid>\r\n    )\r\n}","import {ResearchObjects} from \"../GameData/ResearchObjects\";\r\n\r\nexport default function checkResearchUnlockable(id, purchasedUpgrades, incomeSources) {\r\n  // if we already researched it return false\r\n  if(purchasedUpgrades.some(x => x === id)) return false;\r\n\r\n  // return false if there are any dependencies that we have not purchased yet\r\n  const item = ResearchObjects.find(x => x.id === id);\r\n  for (const dependency of item.dependencies) {\r\n    if(!purchasedUpgrades.some(x => x === dependency)) return false;\r\n  }\r\n\r\n  // return false if we dont own any of the fabType the upgrade is for\r\n  if(incomeSources[item.fabType] <= 0) return false\r\n\r\n  return true;\r\n}","import { useSelector, shallowEqual } from 'react-redux'\r\n\r\nexport function useShallowEqualSelector(selector) {\r\n  return useSelector(selector, shallowEqual)\r\n}","import classes from \"./communications.module.css\";\r\nimport {useShallowEqualSelector} from \"../../Hooks/useShallowEqualSelector\";\r\nimport {listenCommunications} from \"../../Redux/selectors\";\r\nimport Typist from 'react-typist';\r\nimport {Grid} from \"@material-ui/core\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {receiveMessage} from \"../../Redux/actions\";\r\n\r\n\r\nexport default function CommunicationsPanel(){\r\n  const dispatch = useDispatch();\r\n  const messages = useShallowEqualSelector(listenCommunications);\r\n\r\n  const formatMsg = (msg) => {\r\n    if(msg.startsWith('!')){\r\n      return msg.substring(1);\r\n    }\r\n    return msg;\r\n  }\r\n\r\n  const isImportant = (msg) => {\r\n    return msg.startsWith('!');\r\n  }\r\n\r\n  return(\r\n    <div className={classes.wrapper}>\r\n      <Grid container direction={'column'} spacing={2}>\r\n        {messages.map(msg => (\r\n          <Grid item xs={12} key={msg.index}>\r\n            {\r\n              msg.received ?\r\n                <span className={[classes.message, isImportant(msg.message) && classes.priorityMessage].join(\" \")}\r\n                      dangerouslySetInnerHTML={{__html: formatMsg(msg.message)}} />\r\n                :\r\n                <Typist\r\n                  startDelay={1}\r\n                  onTypingDone={() => dispatch(receiveMessage(msg.index))}\r\n                  cursor={{\r\n                    show: true,\r\n                    blink: true,\r\n                    element: '|',\r\n                    hideWhenDone: true,\r\n                    hideWhenDoneDelay: 250,\r\n                  }}\r\n                >\r\n                  <span className={[classes.message, isImportant(msg.message) && classes.priorityMessage].join(\" \")}>\r\n                    {formatMsg(msg.message)}</span>\r\n                </Typist>\r\n            }\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classes from \"./modal.module.css\";\r\nimport {Button, Grid} from \"@material-ui/core\";\r\n\r\nModal.propTypes = {\r\n  open: PropTypes.bool,\r\n  actions: PropTypes.array,\r\n};\r\n\r\nfunction Modal({open, actions, children}) {\r\n  if(!open) return null;\r\n\r\n\r\n\r\n  return (\r\n    <div className={classes.backdrop}>\r\n      <div className={classes.wrapper}>\r\n        {children}\r\n        <Grid container spacing={2} className={classes.actions}>\r\n          {\r\n            actions && actions.length > 0 &&\r\n            actions.map((action, index) => (\r\n              <Grid item key={`${action.label}_button`}>\r\n                <Button\r\n                  onClick={action.onClick}\r\n                  variant={'outlined'}\r\n                  color={action.color}\r\n                  disabled={action.disabled}\r\n                >{action.label}</Button>\r\n              </Grid>\r\n            ))\r\n          }\r\n        </Grid>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;","import React, {useState} from 'react';\r\nimport {Button, Divider, Grid} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport classes from \"./launchPanel.module.css\";\r\nimport Modal from \"../modal/modal\";\r\nimport {prestige} from \"../../../Redux/actions\";\r\nimport useKeepPercent from \"../../../Hooks/useKeepPercent\";\r\n\r\nfunction LaunchPanel() {\r\n  const dispatch = useDispatch();\r\n  const launchFacilityCount = useSelector((state) => state.sources.launchFacility)\r\n  const currentPrestige = useSelector(state => state.game.prestige);\r\n  const keepPercent = useKeepPercent();\r\n\r\n  const [launchConfirmation, setLaunchConfirmation] = useState(false);\r\n  const launchConfirmActions = [\r\n    {\r\n      label: 'cancel',\r\n      color: 'secondary',\r\n      onClick: () => setLaunchConfirmation(false)\r\n    },\r\n    {\r\n      label: \"yes I'm ready\",\r\n      onClick: () => {\r\n        dispatch(prestige(currentPrestige, keepPercent));\r\n        setLaunchConfirmation(false);\r\n      }\r\n    }\r\n  ]\r\n\r\n  const roundToAppropriate = num => {\r\n    if(num > 1){\r\n      return num.toFixed(3);\r\n    }else if(num > 0.0999){\r\n      return num.toFixed(3);\r\n    }else if(num > 0.0099){\r\n      return num.toFixed(4);\r\n    }else{\r\n      return num.toFixed(5);\r\n    }\r\n  }\r\n\r\n  if(launchFacilityCount === 0) return null;\r\n  return (\r\n    <div>\r\n      <Grid item xs={12} style={{display: \"flex\", flexDirection: 'column', alignItems: 'center'}}>\r\n        <h2 className={classes.launchText}>RETURN TO EARTH</h2>\r\n        <span className={classes.subtext}>You will keep {roundToAppropriate(keepPercent * 100)}% of resources</span>\r\n        <Button\r\n          fullWidth\r\n          variant={'outlined'}\r\n          color={'secondary'}\r\n          onClick={ () => setLaunchConfirmation(true)}\r\n        >Launch</Button>\r\n      </Grid>\r\n      <Divider style={{backgroundColor: '#dbdbdb', margin: '10px 0'}}/>\r\n      <Modal\r\n        open={launchConfirmation}\r\n        actions={launchConfirmActions}\r\n      >\r\n        <div>\r\n          <h1>\r\n            Are you sure you are ready to launch?\r\n          </h1>\r\n          <p>\r\n            Building more <span style={{color: 'var(--color-primary)'}}>Orbital Launch Platforms</span> and\r\n            <span style={{color: 'var(--color-primary)'}}>Space Elevators</span> will increase the amount of resources you will\r\n            get to bring with you. Only leave when you are sure you are ready.\r\n          </p>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LaunchPanel;","import {useSelector} from \"react-redux\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\n\r\nexport default function useKeepPercent() {\r\n  const [factor, setFactor] = useState(0);\r\n  const elevatorCount = useSelector((state) => state.sources.spaceElevator)\r\n  const launchFacilityCount = useSelector((state) => state.sources.launchFacility)\r\n\r\n  const eq = (count) => {\r\n    return -1 / (1 + count / 200) + 1\r\n  }\r\n\r\n  const launchFactor = 0.35;\r\n  const elevatorFactor = 0.65;\r\n  // return eq(launchFacilityCount) * launchFactor + eq(elevatorCount) * elevatorFactor;\r\n\r\n\r\n  useEffect(() => {\r\n    setFactor(eq(launchFacilityCount) * launchFactor + eq(elevatorCount) * elevatorFactor)\r\n  }, [elevatorCount, launchFacilityCount])\r\n\r\n  return factor;\r\n}\r\n","import {Button, ButtonGroup, Divider, Grid} from \"@material-ui/core\";\r\nimport classes from \"./main.module.css\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport ResourceDisplay from \"../../Components/resourceDisplay/resourceDisplay\";\r\nimport PlanetDisplay from \"../../Components/planetDisplay/planetDisplay\";\r\nimport {useState} from \"react\";\r\nimport FabricatePanel from \"../../Components/fabricatePanel\";\r\nimport {increaseResources} from \"../../Redux/actions\";\r\nimport ResearchPanel from \"../../Components/researchPanel\";\r\nimport CommunicationsPanel from \"../../Components/communications/communicationsPanel\";\r\nimport LaunchPanel from \"../../Components/controls/LaunchButton/launchPanel\";\r\n\r\n\r\nexport default function Main(){\r\n  const dispatch = useDispatch();\r\n\r\n  const [openTab, setOpenTab] = useState('fabricate');\r\n\r\n\r\n  return(\r\n    <Grid container spacing={2} style={{height: '100vh'}} alignItems={'stretch'}>\r\n      <Grid item xs={12} sm={4} md={3} className={classes.sidePanel} style={{overflow: 'hidden'}}>\r\n          <ResourceDisplay/>\r\n          <Divider style={{backgroundColor: '#dbdbdb', margin: '10px 0'}}/>\r\n          <PlanetDisplay/>\r\n          <Divider style={{backgroundColor: '#dbdbdb', margin: '10px 0'}}/>\r\n          <Button\r\n            variant={'outlined'}\r\n            fullWidth\r\n            onClick={() => dispatch(increaseResources(1))}\r\n          >Mine resources</Button>\r\n        <Divider style={{backgroundColor: '#dbdbdb', margin: '10px 0'}}/>\r\n        <LaunchPanel/>\r\n        <CommunicationsPanel/>\r\n      </Grid>\r\n      <Grid item xs={12} sm={4} md={6}>\r\n        <div style={{height: '200px', width: '100%'}}/>\r\n      </Grid>\r\n      <Grid item xs={12} sm={4} md={3} className={classes.sidePanel}>\r\n        <ButtonGroup fullWidth>\r\n          <Button\r\n            variant={openTab === 'fabricate' ? \"contained\" : \"outlined\"}\r\n            onClick={() => setOpenTab('fabricate')}\r\n          >Fabricate</Button>\r\n          <Button\r\n            variant={openTab === 'research' ? \"contained\" : \"outlined\"}\r\n            onClick={() => setOpenTab('research')}\r\n          >Research</Button>\r\n        </ButtonGroup>\r\n        {openTab === 'fabricate' ? <FabricatePanel /> : <ResearchPanel />}\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}","import { useEffect, useRef } from 'react'\r\n\r\nfunction useInterval(callback, delay=null) {\r\n  const savedCallback = useRef(callback)\r\n  const last = useRef(performance.now());\r\n  const init = useRef(performance.now());\r\n\r\n  // Remember the latest callback if it changes.\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    // Don't schedule if no delay is specified.\r\n    if (delay === null) {\r\n      return\r\n    }\r\n\r\n    const id = setInterval(() => {\r\n      const now = performance.now();\r\n      const time = (now - init.current) / 1000;\r\n      const delta = (now - last.current) / 1000;\r\n\r\n      savedCallback.current({time, delta})\r\n      last.current = now;\r\n    }, delay)\r\n\r\n    return () => clearInterval(id)\r\n  }, [delay])\r\n}\r\n\r\nexport default useInterval","import React, {useState} from 'react';\r\nimport Modal from \"../../controls/modal/modal\";\r\nimport Typist from 'react-typist';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {closeStory} from \"../../../Redux/actions\";\r\nimport classes from \"./meetColony.module.css\";\r\n\r\nfunction MeetColonyDialogPopup({open}) {\r\n  const dispatch = useDispatch();\r\n  const show = useSelector(state => state.game.storyShow.meetColony)\r\n  const [doneTyping, setDoneTyping] = useState(false);\r\n\r\n\r\n  if(!show) return null;\r\n  return (\r\n    <Modal open actions={[{\r\n      label: \"Give Resources\",\r\n      // disabled: !doneTyping,\r\n      onClick: () => dispatch(closeStory('meetColony'))\r\n    }]}>\r\n      <div className={classes.typistWrapper}>\r\n        <Typist\r\n          startDelay={1}\r\n          onTypingDone={() => setDoneTyping(true)}\r\n          cursor={{\r\n            show: true,\r\n            blink: true,\r\n            element: '|',\r\n            hideWhenDone: true,\r\n            hideWhenDoneDelay: 250,\r\n          }}\r\n        >\r\n          <span style={{fontSize: '1.5em'}}>Incoming transmission...</span>\r\n          <br/><br/>\r\n          <Typist.Delay ms={1000}/>\r\n          <span>Mayday Mayday SOS...</span>\r\n          <br/><br/>\r\n          <Typist.Delay ms={1000}/>\r\n          <span>The earth has been destroyed!</span>\r\n          <br/><br/>\r\n          <Typist.Delay ms={1000}/>\r\n          <span>We thought we were the only humans left in the universe</span>\r\n          <br/><br/>\r\n          <Typist.Delay ms={1000}/>\r\n          <span>3 years ago the world fell into a civil war that ended up destroying Earth and most of Mars.\r\n            We are only 8 people surviving deep under the martian surface. We hae no resources to rebuild and our space port was destroyed.\r\n            Without help we won't survive longer than a couple more miserable years.</span>\r\n          <br/><br/>\r\n          <Typist.Delay ms={1000}/>\r\n          <span>Please...</span>\r\n          <br/><br/>\r\n          <Typist.Delay ms={2000}/>\r\n          <span>Help us...</span>\r\n          <br/><br/>\r\n\r\n        </Typist>\r\n        <br/>\r\n\r\n      </div>\r\n\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default MeetColonyDialogPopup;","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {getColonyResourcesPerSecond, getIncomePerSecond} from \"../Redux/selectors\";\r\nimport {INCREASE_RESOURCES, RESET} from \"../Redux/actionTypes\";\r\nimport useInterval from \"../Hooks/useInterval\";\r\nimport usePaused from \"../Hooks/usePaused\";\r\nimport MeetColonyDialogPopup from \"./story/firstPrestige/meetColonyDialogPopup\";\r\nimport {increaseColonyResources} from \"../Redux/actions\";\r\nimport {useShallowEqualSelector} from \"../Hooks/useShallowEqualSelector\";\r\n\r\n/**\r\n * Controls the timing of the game, ticks once every 25th of a second\r\n */\r\nexport default function GameManager() {\r\n  const dispatch = useDispatch();\r\n  const incomePerSecond = useSelector(getIncomePerSecond);\r\n  const colonyIncomes = useShallowEqualSelector(getColonyResourcesPerSecond);\r\n  const paused = usePaused();\r\n\r\n\r\n  // Game global tick rate\r\n  useInterval(({time, delta}) => {\r\n    if (!paused) {\r\n      dispatch({type: INCREASE_RESOURCES, payload: incomePerSecond * delta});\r\n      let payload = Object.entries(colonyIncomes).reduce((a, [key, value]) => {\r\n        a[key] = value*delta;\r\n        return a;\r\n      }, {});\r\n      dispatch(increaseColonyResources(payload))\r\n    }\r\n  }, 0.04)\r\n\r\n\r\n  // define some global functions for the console;\r\n  window.resetGame = () => {\r\n    dispatch({type: RESET})\r\n  }\r\n  window.addResources = (amount) => {\r\n    dispatch({type: INCREASE_RESOURCES, payload: amount})\r\n  }\r\n  console.log(\"game manager render sanity check\")\r\n  return (\r\n    <>\r\n      <MeetColonyDialogPopup/>\r\n    </>\r\n  )\r\n}","import {useSelector} from \"react-redux\";\r\n\r\nexport default function usePaused(){\r\n  let paused = useSelector(state => state.game.paused);\r\n  return paused;\r\n}","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport {useShallowEqualSelector} from \"../../Hooks/useShallowEqualSelector\";\r\nimport {getColonistAssignments} from \"../../Redux/selectors\";\r\n\r\nfunction ColonyOverview() {\r\n  const population = useSelector(state => state.colony.population);\r\n  const resources = useShallowEqualSelector(state => state.resources.colonyResources);\r\n  const assignments = useShallowEqualSelector(getColonistAssignments);\r\n\r\n\r\n  const totalAssigned = () => {\r\n    return Object.values(assignments).reduce((a, r) => a += r, 0)\r\n  }\r\n\r\n  return (\r\n    <div style={{paddingTop: '20px'}}>\r\n      <h1 style={{margin: 0, float: \"left\"}}>Mars Colony</h1>\r\n      <h2 style={{marginTop: 0, marginBottom: 0, opacity: 0.5, textAlign: 'right'}}>{resources} - Building Materials</h2>\r\n      <h2 style={{marginTop: 0, marginBottom: 0, opacity: 0.5, textAlign: 'right'}}>{population} ({population - totalAssigned()}) - Population</h2>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ColonyOverview;","import React from 'react';\r\nimport {useShallowEqualSelector} from \"../../Hooks/useShallowEqualSelector\";\r\nimport {getColonistAssignments, getColonyResources} from \"../../Redux/selectors\";\r\n\r\nfunction ColonyResources() {\r\n  let resources = useShallowEqualSelector(getColonyResources);\r\n\r\n  return (\r\n    <div>\r\n      <table style={{width: '100%', textAlign: 'left'}}>\r\n        <thead>\r\n        <tr><th>Resource</th><th>amount</th></tr>\r\n        </thead>\r\n        <tbody>\r\n        {Object.entries(resources).map(([key, value]) => (\r\n          <tr key={`colony_resources_${key}`}><td>{key}</td><td>{value}</td></tr>\r\n        ))}\r\n        </tbody>\r\n      </table>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ColonyResources;","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {colonyObjects} from \"../../GameData/colonyObjects\";\r\nimport {Grid} from \"@material-ui/core\";\r\nimport Purchasable from \"../controls/purchasable/purchasable\";\r\nimport FabricatePricingFunction from \"../../Util/FabricatePricingFunction\";\r\nimport {addBuilding} from \"../../Redux/actions\";\r\nimport {useShallowEqualSelector} from \"../../Hooks/useShallowEqualSelector\";\r\n\r\nfunction ColonyBuildingsPanel() {\r\n  const dispatch = useDispatch();\r\n\r\n  const buildings = useShallowEqualSelector(state => state.colony.buildings);\r\n  const resources = useSelector(state => state.resources.colonyResources)\r\n\r\n  const mapObject = Object.entries(colonyObjects).map(([key, value]) => ({...value, key}))\r\n  return (\r\n    <Grid container spacing={1} style={{marginTop: '10px'}}>\r\n      {mapObject.map((details, index) => {\r\n          if (index === 0 || buildings[mapObject[index - 1].key] > 0) {\r\n            return (\r\n              <Grid item xs={12} key={`buildings_option_${details.key}`}>\r\n                <Purchasable\r\n                  title={details.title}\r\n                  subtitle={details.subtitle}\r\n                  altText={`${details.workers} workers /building`}\r\n                  owned={buildings[details.key]}\r\n                  price={FabricatePricingFunction(details, buildings[details.key] ?? 0)}\r\n                  disabled={resources < FabricatePricingFunction(details, buildings[details.key] ?? 0)}\r\n                  onPurchase={() => {\r\n                    dispatch(addBuilding(details.key, buildings[details.key], FabricatePricingFunction(details, buildings[details.key] ?? 0)));\r\n                  }}\r\n                />\r\n              </Grid>\r\n            )\r\n          } else {\r\n            return null;\r\n          }\r\n        }\r\n      )}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default ColonyBuildingsPanel;","import React from 'react';\r\nimport classes from \"./assignments.module.css\";\r\nimport PropTypes from 'prop-types';\r\nimport {Grid, IconButton} from \"@material-ui/core\";\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {assignColonist, unAssignColonist} from \"../../../Redux/actions\";\r\n\r\nAssignmentControl.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  assigned: PropTypes.number,\r\n  subtitle: PropTypes.string\r\n};\r\n\r\nfunction AssignmentControl({name, assigned, subtitle}) {\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  return (\r\n    <div className={classes.controlWrapper}>\r\n      <Grid container>\r\n        <Grid item xs={8} className={classes.titles}>\r\n          <h2>{name}</h2>\r\n          <p>{subtitle}</p>\r\n        </Grid>\r\n        <Grid item xs={4} className={classes.controls}>\r\n          <div className={classes.assignedCount}>\r\n            <h1>{assigned ?? 0}</h1>\r\n          </div>\r\n          <div className={classes.up}>\r\n            <IconButton size={'small'} onClick={() => dispatch(assignColonist(name))}>\r\n              <KeyboardArrowUpIcon/>\r\n            </IconButton>\r\n          </div>\r\n          <div className={classes.down}>\r\n            <IconButton size={'small'} onClick={() => dispatch(unAssignColonist(name))}>\r\n              <KeyboardArrowDownIcon/>\r\n            </IconButton>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AssignmentControl;\r\n\r\n\r\n","import React from 'react';\r\nimport {useShallowEqualSelector} from \"../../../Hooks/useShallowEqualSelector\";\r\nimport AssignmentControl from \"./assignmentControl\";\r\nimport {getColonyResourcesPerSecond} from \"../../../Redux/selectors\";\r\nimport {colonyObjects} from \"../../../GameData/colonyObjects\";\r\n\r\nfunction ColonyAssignmentsPanel() {\r\n  const assignments = useShallowEqualSelector(state => state.colony.assignments);\r\n  const colonyIncomes = useShallowEqualSelector(getColonyResourcesPerSecond);\r\n\r\n\r\n  const generateSubtitle = (details, count) => {\r\n    let s = [];\r\n    for (const input of details.inputs) {\r\n      s.push(`-${input.numerator * count} ${input.name} /${input.denominator}s`)\r\n    }\r\n    for (const output of details.outputs) {\r\n      s.push(`+${output.numerator * count} ${output.name} /${output.denominator}s`)\r\n    }\r\n    return s.join(\", \")\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {Object.entries(assignments).map(([key, value]) => {\r\n        const details = colonyObjects[key];\r\n        if(!details) return null;\r\n        return(\r\n            <AssignmentControl key={`assignments_${key}`} name={key} assigned={value} subtitle={generateSubtitle(details, value)}/>\r\n          )\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ColonyAssignmentsPanel;","import React from 'react';\r\nimport {Divider, Grid} from \"@material-ui/core\";\r\nimport CommunicationsPanel from \"../../Components/communications/communicationsPanel\";\r\nimport classes from \"./colony.module.css\";\r\nimport ColonyOverview from \"../../Components/colonyDisplays/colonyOverview\";\r\nimport ColonyResources from \"../../Components/colonyDisplays/colonyResources\";\r\nimport ColonyBuildingsPanel from \"../../Components/colonyDisplays/colonyBuildingsPanel\";\r\nimport ColonyAssignmentsPanel from \"../../Components/colonyDisplays/assignments/colonyAssignmentsPanel\";\r\n\r\nfunction Colony() {\r\n  return (\r\n    <Grid container spacing={2} className={classes.wrapper}>\r\n      <Grid item md={4}>\r\n        {/*<h1>Communications</h1>*/}\r\n        {/*<Divider style={{backgroundColor: '#dbdbdb', margin: '10px 0'}}/>*/}\r\n        <CommunicationsPanel/>\r\n      </Grid>\r\n      <Grid item md={4}>\r\n        <ColonyOverview/>\r\n        <Divider style={{backgroundColor: '#dbdbdb', margin: '10px 0'}}/>\r\n        <ColonyResources />\r\n        <Divider style={{backgroundColor: '#dbdbdb', margin: '10px 0'}}/>\r\n        <ColonyAssignmentsPanel />\r\n      </Grid>\r\n      <Grid item md={4}>\r\n        <h1 style={{margin: 0}}>Buildings</h1>\r\n        <Divider style={{backgroundColor: '#dbdbdb', margin: '10px 0'}}/>\r\n        <ColonyBuildingsPanel/>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Colony;","import React from 'react';\r\nimport classes from \"./pageSwitcher.module.css\";\r\nimport {Button, ButtonGroup} from \"@material-ui/core\";\r\nimport {useLocation, useHistory} from \"react-router-dom\";\r\n\r\nfunction PageSwitcher(props) {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <ButtonGroup fullWidth>\r\n        <Button\r\n          variant={location.pathname === \"/\" ? \"contained\" :\"outlined\"}\r\n          onClick={() => history.push('/')}\r\n        >System</Button>\r\n        <Button\r\n          variant={location.pathname === \"/colony\" ? \"contained\" :\"outlined\"}\r\n          onClick={() => history.push('/colony')}\r\n        >Colony</Button>\r\n      </ButtonGroup>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PageSwitcher;","import './App.css';\nimport Main from \"./Pages/main/main\";\nimport GameManager from \"./Components/gameManager\";\nimport {BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\n\nimport Colony from \"./Pages/colony/Colony\";\nimport PageSwitcher from \"./Components/controls/pageSwitcher/pageSwitcher\";\nimport {useSelector} from \"react-redux\";\n\nfunction App() {\n  const prestige = useSelector(state => state.game.prestige);\n\n  return (\n    <div style={{padding: '8px'}}>\n      <Router>\n        <GameManager/>\n        {\n          prestige > 0 &&\n          <PageSwitcher/>\n        }\n\n        <Switch>\n          {\n            prestige > 0 &&\n            <Route path={'/colony'}>\n              <Colony/>\n            </Route>\n          }\n\n          <Route>\n            <Main/>\n          </Route>\n        </Switch>\n\n      </Router>\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n  ADD_BUILDING,\r\n  ADD_INCOME_SOURCE,\r\n  BUY_UPGRADE,\r\n  DECREASE_RESOURCES,\r\n  INCREASE_RESOURCES,\r\n  PRESTIGE\r\n} from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  current: 0,\r\n  colonyResources: 0\r\n};\r\n\r\nexport default function resources(state = initialState, action) {\r\n  switch (action.type) {\r\n    case INCREASE_RESOURCES: {\r\n      return {\r\n        ...state,\r\n        current: state.current += action.payload\r\n      };\r\n    }\r\n    case DECREASE_RESOURCES: {\r\n      return {\r\n        ...state,\r\n        current: Math.max(state.current -= action.payload, 0)\r\n      };\r\n    }\r\n    case ADD_INCOME_SOURCE: {\r\n      return {\r\n        ...state,\r\n        current: Math.max(state.current -= action.payload.price, 0)\r\n      }\r\n    }\r\n    case BUY_UPGRADE: {\r\n      return {\r\n        ...state,\r\n        current: Math.max(state.current -= action.payload.price, 0)\r\n      }\r\n    }\r\n    case ADD_BUILDING:{\r\n      return {\r\n        ...state,\r\n        colonyResources: state.colonyResources - action.payload.price\r\n      }\r\n    }\r\n    case PRESTIGE: {\r\n      const keepPercent = action.payload.keepPercent;\r\n      const keepAmount = Math.ceil(state.current * keepPercent);\r\n      return {\r\n        ...state,\r\n        current: 0,\r\n        colonyResources: state.colonyResources + keepAmount\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {ADD_INCOME_SOURCE, PRESTIGE} from \"../actionTypes\";\r\nimport {fabObjects} from \"../../GameData/FabObjects\";\r\n\r\n\r\nconst initialState = Object.keys(fabObjects).reduce((a, r) => {\r\n  a[r] = 0;\r\n  return a;\r\n}, {})\r\n\r\nexport default function sources(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case ADD_INCOME_SOURCE: {\r\n      return {\r\n        ...state,\r\n        [action.payload.type]: state[action.payload.type] += 1\r\n      };\r\n    }\r\n    case PRESTIGE:{\r\n      return initialState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {BUY_UPGRADE, PRESTIGE} from \"../actionTypes\";\r\n\r\nconst initialState = []\r\n\r\nexport default function upgrades(state = initialState, action) {\r\n  switch (action.type) {\r\n    case BUY_UPGRADE: {\r\n      return [...new Set([...state, action.payload.id])];\r\n    }\r\n    case PRESTIGE:{\r\n      return initialState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {ADD_INCOME_SOURCE, ADD_MESSAGE, BUY_UPGRADE, CLEAR_MESSAGES, PRESTIGE, RECEIVE_MESSAGE} from \"../actionTypes\";\r\nimport {fabObjects} from \"../../GameData/FabObjects\";\r\nimport {ResearchObjects} from \"../../GameData/ResearchObjects\";\r\n\r\nconst initialState = [\r\n  {\r\n    message: \"Wakey wakey, logs indicate you've been asleep for 93 years. We have arrived at the destination, \" +\r\n      \" asteroid designation 'AX62'. <br/><br/> <strong>Trip Debrief:</strong> We are aproximatly 57,000AU from earth making light speed \" +\r\n      \"communication delay 329 days or just over 2 years round trip. During transit we encounted 33 micrometeorite collisions resulting \" +\r\n      \"in damage to our long range communication equipment. All other systems are above 95% active health. <br/><br/>\" +\r\n      \"I am <strong>IAN</strong> and will be your insanity avoidance AI for the remainder of your time in the Oort Cloud.\",\r\n    received: true,\r\n    delay: 1,\r\n    index: 0,\r\n  },\r\n];\r\n\r\nexport default function communications(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE: {\r\n      return [...state, {...action.payload, received: false, index: state.length}];\r\n    }\r\n    case RECEIVE_MESSAGE:{\r\n      let copy = [...state];\r\n      let msg = copy.find(x => x.index === action.payload.index);\r\n      if(msg){\r\n        msg.received = true;\r\n      }\r\n      return copy;\r\n    }\r\n    case CLEAR_MESSAGES:{\r\n      return [];\r\n    }\r\n    case PRESTIGE:{\r\n      return [];\r\n    }\r\n    case ADD_INCOME_SOURCE: {\r\n      const {type, count, prestige} = action.payload;\r\n      if(prestige > 0) return state;\r\n      if(count === 0 && fabObjects[type].message){\r\n        return [...state, {message: fabObjects[type].message, delay:3, received: false, index: state.length}];\r\n      }else{\r\n        return state;\r\n      }\r\n    }\r\n    case BUY_UPGRADE:{\r\n      const {id, prestige} = action.payload;\r\n      if(prestige > 0) return state;\r\n\r\n      const research = ResearchObjects.find(x => x.id === id);\r\n      if(research?.message){\r\n        return [...state, {message: research.message, delay:3, received: false, index: state.length}];\r\n      }else{\r\n        return state;\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {CLOSE_STORY, PRESTIGE, TOGGLE_PAUSE} from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  paused: false,\r\n  prestige: 0,\r\n  storyShow: {\r\n    meetColony: false,\r\n  }\r\n};\r\n\r\nexport default function game(state = initialState, action) {\r\n  switch (action.type) {\r\n    case TOGGLE_PAUSE: {\r\n      return {\r\n        ...state,\r\n        paused: !state.paused\r\n      };\r\n    }\r\n    case PRESTIGE: {\r\n      let newState = {...state, prestige: state.prestige + 1}\r\n      if (newState.prestige === 1) {\r\n        // if it is the first prestige, trigger the story event to meet the colony\r\n        newState.storyShow.meetColony = true;\r\n        newState.paused = true;\r\n      }\r\n      return newState\r\n    }\r\n    case CLOSE_STORY: {\r\n      return {\r\n        ...state,\r\n        paused: false,\r\n        storyShow: {\r\n          ...state.storyShow,\r\n          [action.payload.type]: false\r\n        }\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ADD_BUILDING,\r\n  ASSIGN_COLONIST,\r\n  DECREASE_COLONY_RESOURCE,\r\n  INCREASE_COLONY_RESOURCE,\r\n  UN_ASSIGN_COLONIST\r\n} from \"../actionTypes\";\r\nimport {colonyObjects} from \"../../GameData/colonyObjects\";\r\n\r\nconst initialState = {\r\n  population: 5,\r\n  buildings: {},\r\n  assignments: {},\r\n  resources: {}\r\n}\r\n\r\n\r\nexport default function colony(state = initialState, action) {\r\n  switch (action.type) {\r\n    case INCREASE_COLONY_RESOURCE: {\r\n      // let resourcesCopy = {...state.resources};\r\n      for (const [key, value] of Object.entries(action.payload.increases)) {\r\n        state.resources[key] = (state.resources[key] ?? 0) + value;\r\n      }\r\n      return state;\r\n    }\r\n    case DECREASE_COLONY_RESOURCE: {\r\n      let resourcesCopy = {...state.resources};\r\n      for (const [key, value] of Object.entries(action.payload.increases)) {\r\n        resourcesCopy[key] = Math.max((resourcesCopy[key] ?? 0) - value, 0);\r\n      }\r\n      if(Object.keys(resourcesCopy).length === 0) return state;\r\n      return {\r\n        ...state,\r\n        resources: resourcesCopy\r\n      }\r\n    }\r\n    case ADD_BUILDING: {\r\n      const type = action.payload.type;\r\n      const details = colonyObjects[type];\r\n\r\n      //initialize new resources if there are any\r\n      let newResources = {};\r\n      for (const output of details.outputs) {\r\n        newResources[output.name] = state.resources[output.name] ?? 0\r\n      }\r\n      for (const input of details.inputs) {\r\n        newResources[input.name] = state.resources[input.name] ?? 0\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        buildings: {\r\n          ...state.buildings,\r\n          [type]: (state.buildings[type] ?? 0) + 1\r\n        },\r\n        resources: {\r\n          ...state.resources,\r\n          ...newResources\r\n        },\r\n        assignments: {\r\n          ...state.assignments,\r\n          [type]: state.assignments[type] ?? 0\r\n        }\r\n      }\r\n    }\r\n    case ASSIGN_COLONIST: {\r\n      const type = action.payload.type;\r\n      let assignmentCopy = {...state.assignments}\r\n      // check that we are not at out max assigned\r\n      const details = colonyObjects[action.payload.type]\r\n      const maxAssigned = details.workers * state.buildings[action.payload.type];\r\n      if(state.assignments[action.payload.type] >= maxAssigned) return state;\r\n      // figure out if we already have assigned all available colonists -> remove one at random\r\n      const totalAssigned = Object.values(state.assignments).reduce((a, r) => a + r, 0);\r\n      let diff = totalAssigned + 1 - state.population;\r\n      for (let i = 0; i < diff; i++) {\r\n        // find the first property with > 0 assigned colonists\r\n        for (const [key, value] of Object.entries(assignmentCopy)) {\r\n          if (value > 0 && key !== type){\r\n            assignmentCopy[key] -= 1;\r\n            diff -= 1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      assignmentCopy[type] = Math.min((assignmentCopy[type] ?? 0) + 1, maxAssigned, state.population);\r\n      return {\r\n        ...state,\r\n        assignments: assignmentCopy\r\n      }\r\n    }\r\n    case UN_ASSIGN_COLONIST: {\r\n      const type = action.payload.type;\r\n      let assignmentCopy = {...state.assignments}\r\n      assignmentCopy[type] = Math.max((assignmentCopy[type] ?? 0) - 1, 0);\r\n      return {\r\n        ...state,\r\n        assignments: assignmentCopy\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from \"redux\";\r\nimport resources from \"./resources\";\r\nimport sources from \"./sources\";\r\nimport upgrades from \"./upgrades\";\r\nimport communications from \"./communications\";\r\nimport game from \"./game\";\r\nimport colony from \"./colony\";\r\nimport {RESET} from \"../actionTypes\";\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst appReducer = combineReducers({ resources, sources, upgrades, communications, game, colony});\r\n\r\nexport const rootReducer = (state, action) => {\r\n  if(action.type === RESET){\r\n    storage.removeItem('persist:root');\r\n    return appReducer(undefined, action);\r\n  }else{\r\n    return appReducer(state, action);\r\n  }\r\n}\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport {rootReducer} from \"./reducers\";\r\nimport { persistStore, persistReducer } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nlet store = createStore(persistedReducer, composeEnhancers(applyMiddleware()))\r\nlet persistor = persistStore(store)\r\n\r\nexport { store, persistor }","import {createTheme} from \"@material-ui/core\";\r\n\r\nexport default createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n  },\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport {store, persistor} from \"./Redux/store\";\nimport { MuiThemeProvider} from \"@material-ui/core\";\nimport darkTheme from \"./Theme/darkTheme\";\nimport {PersistGate} from \"redux-persist/integration/react\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <MuiThemeProvider theme={darkTheme}>\n          <App/>\n        </MuiThemeProvider>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}