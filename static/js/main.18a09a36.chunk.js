(this["webpackJsonpidle-space"]=this["webpackJsonpidle-space"]||[]).push([[0],{27:function(e,t,n){e.exports={controlWrapper:"assignments_controlWrapper__1Vt46",titles:"assignments_titles__UzqUJ",controls:"assignments_controls__35xmT",up:"assignments_up__2DFGc",down:"assignments_down__28gf3",assignedCount:"assignments_assignedCount__3rnZN"}},31:function(e,t,n){e.exports={purchasable:"purchasable_purchasable__26Bmy",innerWrapper:"purchasable_innerWrapper__1BvjA",disabled:"purchasable_disabled__1T2uz",content:"purchasable_content__11xw4",content2:"purchasable_content2__1IbH-",owned:"purchasable_owned__1Rpee"}},35:function(e,t,n){e.exports={wrapper:"communications_wrapper__3qRre",message:"communications_message__3vtW6",priorityMessage:"communications_priorityMessage__1Nwzh"}},47:function(e,t,n){e.exports={sidePanel:"main_sidePanel__2bUyy",comsWrapper:"main_comsWrapper__3jO9p"}},48:function(e,t,n){e.exports={backdrop:"modal_backdrop__19mz5",wrapper:"modal_wrapper__2UEXh",actions:"modal_actions__1e5yH"}},49:function(e,t,n){e.exports={wrapper:"colony_wrapper__4WcZW",sidePanel:"colony_sidePanel__1qx3m",comsWrapper:"colony_comsWrapper__1Lw8V"}},53:function(e,t,n){e.exports={launchText:"launchPanel_launchText__FT86o",subtext:"launchPanel_subtext__3dYVR"}},66:function(e,t,n){e.exports={planetDisplay:"planetDisplay_planetDisplay__2xmBv"}},68:function(e,t,n){e.exports={typistWrapper:"meetColony_typistWrapper__3SuDz"}},72:function(e,t,n){e.exports={wrapper:"pageSwitcher_wrapper__3NFYx"}},83:function(e,t,n){},84:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),s=n.n(i),o=(n(83),n(84),n(5)),c=n(120),l=n(121),u=n(102),d=n(122),b=n(47),p=n.n(b),h=n(4),m=n(3),j=n(20),f={spaceNet:{title:"Space Net",subtitle:"Catches things that float into the nets",basePrice:25,costMultiFactor:1.07,baseIncome:1,message:"Nets? In Space? You wont catch any fish but you might catch some stray rocks or aliens or something. Anything we catch in the nets will be melted down and processed into raw materials to use with the fabricators."},drone:{title:"Drone",subtitle:"Orbits the target and automatically mines using lasers",basePrice:500,costMultiFactor:1.08,baseIncome:10,message:"Drones will be able to get in much closer the the surface of the object."},probe:{title:"Probe",subtitle:"Launch a probe to drill core samples from the surface",basePrice:5500,costMultiFactor:1.09,baseIncome:75,message:""},lander:{title:"Lander",subtitle:"Send a small lander to the surface to do mobile excavation",basePrice:85e3,costMultiFactor:1.1,baseIncome:250,message:"Small little land rovers similar to the ones the Inter-Planetary Union used to survey Mars before its colonization."},miningRig:{title:"Mining Rig",subtitle:"Establish a semi-permanent mining structure on the surface",basePrice:5e5,costMultiFactor:1.11,baseIncome:850,message:"We have established a proper mining facility on the surface. We can now really start to screw this place up."},droneFactory:{title:"Drone Factory",subtitle:"No it does not make more drones, it is run by drones",basePrice:25e5,costMultiFactor:1.12,baseIncome:2e3,message:"Surprise! The factory actually does make more drones, what a deal!"},launchFacility:{title:"Orbital Launch",subtitle:"A proper orbital launch facility will allow us to get resources off the surface of this rock",basePrice:1e7,costMultiFactor:1.44,baseIncome:2500,message:"!We can now get resources into orbit and return to Earth with our spoils. With only 1 launch facility we won't be able to get much into orbit though. Build more launch facilities and space elevators to increase how much of our resources we can take back with us."},spaceElevator:{title:"Space Elevator",subtitle:"A space elevator will help us get even more resources into orbit before we blast back to earth rich",basePrice:5e7,costMultiFactor:1.55,baseIncome:3500,message:"The more orbital launch facilities and space elevators we have when we launch for earth the more of the resources we have extracted we will be able to take with us."}},y=[{id:"sn1",title:"Improved Space Nets",subtitle:"Bigger nets = more space junk. This one is pretty self-explanatory",message:"Double the size of the nets, if you make these nets any bigger we might actually catch some space fish.",multiplier:2,fabType:"spaceNet",basePrice:1e4,dependencies:[]},{id:"sn2",title:"Improved Space Nets II",subtitle:"Have you have tried eating soup off a plate? We made the nets more like bowls now",message:"Did that make sense? Bowls?... the nets are deeper now so we can catch bigger stuff, kind of like a baseball glove.",multiplier:2,fabType:"spaceNet",basePrice:3e4,dependencies:["sn1"]},{id:"sn3",title:"Improved Space Nets III",subtitle:"We added titanium threads to the net to catch more volatile space junk like meteorites or knives",message:"We doubled the efficiency of the nets again, I think that makes it 3^6 or !(2^3) times better. They are stronger now so we can catch pretty much anything.",multiplier:3,fabType:"spaceNet",basePrice:55e4,dependencies:["sn2"]},{id:"dr1",title:"Improved Drones I",subtitle:"Improved drone batteries and auto pilot software lets us more efficiently control more drones without crashing them into each other",message:"We didnt actually improve anything, we just put extra batteries on them its not astrophysics.",multiplier:1.65,fabType:"drone",basePrice:125e3,dependencies:[]},{id:"dr2",title:"Improved Drones II",subtitle:"Improved aerial reconnaissance lets the drones find more mineral rich deposits to improve their efficiency",message:"Would you believe it if I told you before this upgrade I was controlling every single one of these drones?",multiplier:2,fabType:"drone",basePrice:225e3,dependencies:["dr1"]},{id:"pr1",title:"Improved Probes I",subtitle:"More powerful onboard generators allow us to probe deeper",message:"Each probe is now equipped with a thermo-radio isotope generator capable of up to 500W. Dont ask where we got the radioactive material, also... check yourself regularly.",multiplier:1.3,fabType:"probe",basePrice:1375e3,dependencies:[]},{id:"pr2",title:"Improved Probes II",subtitle:"Liquid cooling vents let the probes drill harder and for longer",message:"The probes can now scan for sub-surface liquids, drill for said liquids, and re-circulate the liquid through its drilling mantle. Pretty clever.",multiplier:1.55,fabType:"probe",basePrice:6875e3,dependencies:["pr1"]},{id:"ld1",title:"Improved Landers I",subtitle:"Improve the lander with a bigger drilling bit and a tiny shovel. We also gave them emotions, but only sadness so they feel bad when they keep getting stuck in holes",message:"Each land rover now feels an overwhelming sadness when it gets stuck on rocks and in holes. My research seems to indicate this will make them try harder to not get stuck in holes but somehow I think we might just end up with depressed probes.",multiplier:1.25,fabType:"lander",basePrice:2125e4,dependencies:[]},{id:"ld2",title:"Improved Landers II",subtitle:"These guys are so cute, we gave them little backpacks too so they could... cary more stuff?",message:"Depressed little surface trucks... but with accessories!",multiplier:1.25,fabType:"lander",basePrice:10625e4,dependencies:["ld1"]},{id:"mr1",title:"Improved Mining Rigs I",subtitle:"Improve the mining capabilities of the rig with ancient alien technology",message:"The ancient alien technology is... diesel... Yes technically the aliens have been dead for a while. We did say ancient.",multiplier:1.25,fabType:"miningRig",basePrice:3e8,dependencies:[]},{id:"mr2",title:"Improved Mining Rigs II",subtitle:"Improve the mining capabilities of the rig with ancient alien technology",message:"",multiplier:1.25,fabType:"miningRig",basePrice:15e8,dependencies:["mr1"]},{id:"df1",title:"Improved Drone Factory I",subtitle:"We make more drones that make more drones that make more drones...",message:"",multiplier:1.25,fabType:"droneFactory",basePrice:1875e5,dependencies:[]},{id:"df2",title:"Improved Drone Factory II",subtitle:"We make more drones that make more drones that make more drones...",message:"",multiplier:1.25,fabType:"droneFactory",basePrice:9375e5,dependencies:["df1"]},{id:"lf1",title:"Improved Launch Facility I",subtitle:"A second launch pad will let us launch twice as many rockets",message:"",multiplier:1.25,fabType:"launchFacility",basePrice:22e8,dependencies:[]},{id:"lf2",title:"Improved Launch Facility II",subtitle:"A third launch pad will let us launch three times as many rockets",message:"",multiplier:1.15,fabType:"launchFacility",basePrice:76e8,dependencies:["lf1"]},{id:"se1",title:"Improved Space Elevator I",subtitle:"They said I could be anything so I became a space rope",message:"",multiplier:1.15,fabType:"spaceElevator",basePrice:2e10,dependencies:[]},{id:"se2",title:"Improved Space Elevator II",subtitle:"Rope thicker rope stronger = bigger loads",message:"",multiplier:1.15,fabType:"spaceElevator",basePrice:4e10,dependencies:["se1"]}],g={hydroponics:{title:"Hydroponics Lab",subtitle:"A hydroponics lab will allow us to start growing our own plant matter. Its not tasty but at least we wont starve.",basePrice:5e3,costMultiFactor:2,workers:3,inputs:[],outputs:[{name:"biomass",numerator:3,denominator:60}]},engineer:{title:"Engineers Workshop",subtitle:"Our systems are in dire need of maintenance, proper engineering training and tools would let us better maintain our life support and other systems",basePrice:3e4,costMultiFactor:1.5,workers:1,inputs:[],outputs:[{name:"steel",numerator:3,denominator:60},{name:"tech",numerator:1,denominator:60}]},cook:{title:"Kitchen",subtitle:"Cooking facilities will let us turn the biomass into proper food. Eating biomass sucks.",basePrice:1e5,costMultiFactor:1.5,workers:2,inputs:[{name:"biomass",numerator:4,denominator:60}],outputs:[{name:"food",numerator:4,denominator:60}]},medic:{title:"Medical Center",subtitle:"Modern medicine will be a huge benefit for us",basePrice:2e5,costMultiFactor:1.5,workers:1,inputs:[{name:"biomass",numerator:5,denominator:60}],outputs:[{name:"meds",numerator:1,denominator:60}]},scout:{title:"Reclamation Squads",subtitle:"Searching through the remains of society could reward us with lost technology, we may even find other survivors",basePrice:5e5,costMultiFactor:1.5,workers:2,inputs:[{name:"food",numerator:5,denominator:60}],outputs:[{name:"tech",numerator:5,denominator:60},{name:"meds",numerator:1,denominator:60}]},breeder:{title:"Breedery",subtitle:"We need more colonists.",basePrice:15e5,costMultiFactor:1.5,workers:2,inputs:[{name:"food",numerator:25,denominator:60}],outputs:[{name:"population",numerator:1,denominator:60}]},sacrifice:{title:"Sacrificial Chamber",subtitle:"We have heard a call from the void that demands blood",basePrice:35e5,costMultiFactor:1.5,workers:200,inputs:[],outputs:[]},worshipper:{title:"Temple to the Great Old Ones",subtitle:"If we provide the Great Old Ones with tribute they will bestow upon us the gifts of the heavens",basePrice:1e7,costMultiFactor:1.5,workers:200,inputs:[{name:"steel",numerator:5,denominator:60},{name:"blood",numerator:5,denominator:60}],outputs:[{name:"favour",numerator:1,denominator:60}]}},v=function(e){return e.resources.current},O=function(e){return e.sources},x=function(e){var t,n,a=1;(null===e||void 0===e||null===(t=e.colony)||void 0===t||null===(n=t.research)||void 0===n?void 0:n.includes("mining 1"))&&(a*=5);for(var r={},i=0,s=Object.entries(e.sources);i<s.length;i++){var c=Object(o.a)(s[i],2),l=c[0],u=c[1],d=f[l];if(d){var b,p=Object(j.a)(e.upgrades);try{var h=function(){var e=b.value,t=y.find((function(t){return t.id===e}));(null===t||void 0===t?void 0:t.fabType)===l&&(a*=t.multiplier)};for(p.s();!(b=p.n()).done;)h()}catch(m){p.e(m)}finally{p.f()}r[l]=d.baseIncome*u*a}}return r},w=function(e){var t,n,a,r,i,s,c,l,u,d,b=1;(null===e||void 0===e||null===(t=e.colony)||void 0===t||null===(n=t.research)||void 0===n?void 0:n.includes("mining 1"))&&(b*=1.5),(null===e||void 0===e||null===(a=e.colony)||void 0===a||null===(r=a.research)||void 0===r?void 0:r.includes("mining 2"))&&(b*=1.5),(null===e||void 0===e||null===(i=e.colony)||void 0===i||null===(s=i.research)||void 0===s?void 0:s.includes("mining 3"))&&(b*=1.5),(null===e||void 0===e||null===(c=e.colony)||void 0===c||null===(l=c.research)||void 0===l?void 0:l.includes("mining 4"))&&(b*=1.5),(null===e||void 0===e||null===(u=e.colony)||void 0===u||null===(d=u.research)||void 0===d?void 0:d.includes("mining 5"))&&(b*=1.5);for(var p=0,h=0,m=Object.entries(e.sources);h<m.length;h++){var g=Object(o.a)(m[h],2),v=g[0],O=g[1],x=f[v];if(x){var w,k=Object(j.a)(e.upgrades);try{var _=function(){var e=w.value,t=y.find((function(t){return t.id===e}));(null===t||void 0===t?void 0:t.fabType)===v&&(b*=t.multiplier)};for(k.s();!(w=k.n()).done;)_()}catch(I){k.e(I)}finally{k.f()}p+=x.baseIncome*O*b}}return p},k=function(e){return e.upgrades},_=function(e){for(var t=Object(m.a)({},e.colony.resources),n=0,a=Object.entries(t);n<a.length;n++){var r=Object(o.a)(a[n],2),i=r[0],s=r[1];t[i]=Math.floor(s)}return t},I=function(e){var t=Object.entries(g).reduce((function(e,t){var n,a=Object(o.a)(t,2),r=(a[0],a[1]),i=Object(j.a)(r.outputs);try{for(i.s();!(n=i.n()).done;){e[n.value.name]=1}}catch(l){i.e(l)}finally{i.f()}var s,c=Object(j.a)(r.inputs);try{for(c.s();!(s=c.n()).done;){e[s.value.name]=1}}catch(l){c.e(l)}finally{c.f()}return e}),{}),n={};e:for(var a=0,r=Object.entries(e.colony.assignments);a<r.length;a++){var i=Object(o.a)(r[a],2),s=i[0],c=i[1],l=g[s];if(l){var u,d=Object(m.a)({},n),b=Object(j.a)(l.inputs);try{for(b.s();!(u=b.n()).done;){var p,h,f=u.value,y=f.numerator/f.denominator*c;if((null!==(p=e.colony.resources[f.name])&&void 0!==p?p:0)<y)continue e;d[f.name]=(null!==(h=d[f.name])&&void 0!==h?h:0)-y}}catch(T){b.e(T)}finally{b.f()}n=d;var v,O=Object(j.a)(l.outputs);try{for(O.s();!(v=O.n()).done;){var x,w=v.value,k=w.numerator/w.denominator*c;n[w.name]=(null!==(x=d[w.name])&&void 0!==x?x:0)+k}}catch(T){O.e(T)}finally{O.f()}}}e.colony.research.includes("biomass efficiency 1")&&(t.biomass*=2),e.colony.research.includes("biomass efficiency 2")&&(t.biomass*=2),e.colony.research.includes("night vision goggles")&&(t.tech*=1.5,t.meds*=1.25),e.colony.research.includes("antibiotics")&&(t.meds*=1.75),e.colony.research.includes("prayer beads")&&(t.favour*=2),e.colony.research.includes("genetics")&&(t.population*=2);for(var _=0,I=Object.entries(n);_<I.length;_++){var S=Object(o.a)(I[_],2),M=S[0];S[1];n[M]*=t[M]}return n},S=function(e){return e.colony.assignments},M=function(e){return e.communications.slice(-20).reverse()};function T(e){return e.toFixed().replace(/(\d)(?=(\d{3})+$)/g,"$1,")}var P=n(1);function E(){var e=Object(h.d)(v),t=Object(h.d)(w);return Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{style:{textAlign:"right",marginBottom:0},children:T(e)}),Object(P.jsx)("h2",{style:{marginTop:"-10px",marginBottom:0,opacity:.5,float:"left"},children:"Resources"}),Object(P.jsxs)("h2",{style:{marginTop:"-10px",marginBottom:0,opacity:.5,float:"right"},children:[T(t),"/s"]}),Object(P.jsx)("div",{style:{clear:"both"}})]})}var W=n(66),C=n.n(W);function N(){return Object(P.jsxs)("div",{className:C.a.planetDisplay,children:[Object(P.jsx)("h3",{style:{opacity:.5,float:"left",width:"49%"},children:"Asteroid: AX62"}),Object(P.jsx)("h3",{style:{opacity:.5,textAlign:"right",float:"right",width:"49%"},children:"000001.01.15"}),Object(P.jsx)("h3",{style:{opacity:.5,clear:"both"},children:"Resource Density: Low"}),Object(P.jsx)("h3",{style:{opacity:.5,clear:"both"},children:"Life: None"})]})}var R=n(31),D=n.n(R),F=n(76);function A(e){var t=e.title,n=e.subtitle,a=e.altText,r=e.owned,i=e.price,s=e.onPurchase,o=e.disabled;return Object(P.jsx)("div",{className:D.a.purchasable,children:Object(P.jsx)(F.a,{style:{width:"100%"},disabled:o,onClick:s,children:Object(P.jsxs)("div",{className:[D.a.innerWrapper,o&&D.a.disabled].join(" "),children:[Object(P.jsxs)("div",{className:D.a.content,style:{width:r>=0?"60%":"100%"},children:[Object(P.jsx)("h1",{children:t}),Object(P.jsx)("h3",{style:{marginTop:"auto"},children:"number"===typeof i?T(i):i})]}),Object(P.jsxs)("div",{className:D.a.content2,style:{width:r>=0?"60%":"100%"},children:[Object(P.jsx)("p",{style:{marginBottom:"4px"},children:n}),Object(P.jsx)("p",{style:{opacity:.7,marginTop:"auto"},children:a})]}),r>=0&&Object(P.jsx)("div",{style:{width:"40%",marginLeft:"auto"},children:Object(P.jsx)("span",{className:D.a.owned,children:Math.min(999,r)})})]})})})}var L="RESET",B="INCREASE_RESOURCES",U="DECREASE_RESOURCES",G="ADD_INCOME_SOURCE",q="BUY_UPGRADE",Y="ADD_MESSAGE",z="RECEIVE_MESSAGE",H="CLEAR_MESSAGES",V="TOGGLE_PAUSE",X="PRESTIGE",J="CLOSE_STORY",K="ADD_BUILDING",Z="ADD_COLONIST",$="INCREASE_COLONY_RESOURCE",Q="DECREASE_COLONY_RESOURCE",ee="ASSIGN_COLONIST",te="UN_ASSIGN_COLONIST",ne="COLONY_RESEARCH",ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return{type:Y,payload:{message:e,delay:t}}},re=function(e){return{type:Z,payload:{count:e}}},ie=function(e){return{type:$,payload:{increases:e}}},se=function(e){return{type:Q,payload:{decreases:e}}},oe=function(e){return{type:ee,payload:{type:e}}};function ce(e,t){return Math.floor(e.basePrice*Math.pow(e.costMultiFactor,t))}function le(){var e=Object(h.c)(),t=Object(h.d)(O),n=Object(h.d)(w),a=Object(h.d)(x),r=Object(h.d)(v),i=Object(h.d)((function(e){return e.game.prestige})),s=Object.entries(f).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(m.a)(Object(m.a)({},a),{},{key:n})}));return Object(P.jsx)(c.a,{container:!0,spacing:1,style:{marginTop:"10px"},children:s.map((function(o,l){return 0===l||t[s[l-1].key]>0?Object(P.jsx)(c.a,{item:!0,xs:12,children:Object(P.jsx)(A,{title:o.title,subtitle:o.subtitle,altText:"".concat(T(a[o.key]/t[o.key]||o.baseIncome),"/s - ").concat((a[o.key]/n*100||0).toFixed(1),"% of total"),owned:t[o.key],price:ce(o,t[o.key]),disabled:r<ce(o,t[o.key]),onPurchase:function(){e(function(e,t,n,a){return{type:G,payload:{type:e,count:t,price:n,prestige:a}}}(o.key,t[o.key],ce(o,t[o.key]),i))}})},"fabrication_option_".concat(o.key)):null}))})}function ue(){var e=Object(h.c)(),t=Object(h.d)(v),n=Object(h.d)(k),a=Object(h.d)(O),r=Object(h.d)((function(e){return e.game.prestige}));return Object(P.jsx)(c.a,{container:!0,spacing:1,style:{marginTop:"10px"},children:y.map((function(i){return function(e,t,n){if(t.some((function(t){return t===e})))return!1;var a,r=y.find((function(t){return t.id===e})),i=Object(j.a)(r.dependencies);try{var s=function(){var e=a.value;if(!t.some((function(t){return t===e})))return{v:!1}};for(i.s();!(a=i.n()).done;){var o=s();if("object"===typeof o)return o.v}}catch(c){i.e(c)}finally{i.f()}return!(n[r.fabType]<=0)}(i.id,n,a)?Object(P.jsx)(c.a,{item:!0,xs:12,children:Object(P.jsx)(A,{title:i.title,subtitle:i.subtitle,price:i.basePrice,disabled:t<i.basePrice,altText:(s=i.multiplier,s>=2?"".concat(s,"x multiplier"):(s-=1,"".concat((s*=100).toFixed(0),"% increase"))),onPurchase:function(){e(function(e,t,n){return{type:q,payload:{id:e,price:t,prestige:n}}}(i.id,i.basePrice,r))}})},"research_option_".concat(i.id)):null;var s}))})}var de=n(35),be=n.n(de);function pe(e){return Object(h.d)(e,h.b)}var he=n(26),me=n.n(he);function je(){var e=Object(h.c)(),t=pe(M),n=function(e){return e.startsWith("!")?e.substring(1):e},a=function(e){return e.startsWith("!")};return Object(P.jsx)("div",{className:be.a.wrapper,children:Object(P.jsx)(c.a,{container:!0,direction:"column",spacing:2,children:t.map((function(t){return Object(P.jsx)(c.a,{item:!0,xs:12,children:t.received?Object(P.jsx)("span",{className:[be.a.message,a(t.message)&&be.a.priorityMessage].join(" "),dangerouslySetInnerHTML:{__html:n(t.message)}}):Object(P.jsx)(me.a,{startDelay:1,onTypingDone:function(){return e((n=t.index,{type:z,payload:{index:n}}));var n},cursor:{show:!0,blink:!0,element:"|",hideWhenDone:!0,hideWhenDoneDelay:250},children:Object(P.jsx)("span",{className:[be.a.message,a(t.message)&&be.a.priorityMessage].join(" "),children:n(t.message)})})},t.index)}))})})}var fe=n(53),ye=n.n(fe),ge=n(48),ve=n.n(ge);var Oe=function(e){var t=e.open,n=e.actions,a=e.children;return t?Object(P.jsx)("div",{className:ve.a.backdrop,children:Object(P.jsxs)("div",{className:ve.a.wrapper,children:[a,Object(P.jsx)(c.a,{container:!0,spacing:2,className:ve.a.actions,children:n&&n.length>0&&n.map((function(e,t){return Object(P.jsx)(c.a,{item:!0,children:Object(P.jsx)(u.a,{onClick:e.onClick,variant:"outlined",color:e.color,disabled:e.disabled,children:e.label})},"".concat(e.label,"_button"))}))})]})}):null};var xe=function(){var e,t=Object(h.c)(),n=Object(h.d)((function(e){return e.sources.launchFacility})),r=Object(h.d)((function(e){return e.game.prestige})),i=function(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(h.d)((function(e){return e.sources.spaceElevator})),s=Object(h.d)((function(e){return e.sources.launchFacility})),c=function(e){return-1/(1+e/200)+1};return Object(a.useEffect)((function(){r(.35*c(s)+.65*c(i))}),[i,s]),n}(),s=Object(a.useState)(!1),d=Object(o.a)(s,2),b=d[0],p=d[1],m=[{label:"cancel",color:"secondary",onClick:function(){return p(!1)}},{label:"yes I'm ready",onClick:function(){t(function(e,t){return{type:X,payload:{currentPrestige:e,keepPercent:t}}}(r,i)),p(!1)}}];return 0===n?null:Object(P.jsxs)("div",{children:[Object(P.jsxs)(c.a,{item:!0,xs:12,style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(P.jsxs)("h2",{className:ye.a.launchText,children:["RETURN TO ",0===r?"EARTH":"MARS"]}),Object(P.jsxs)("span",{className:ye.a.subtext,children:["You will keep ",(e=100*i,e>1||e>.0999?e.toFixed(3):e>.0099?e.toFixed(4):e.toFixed(5)),"% of resources"]}),Object(P.jsx)(u.a,{fullWidth:!0,variant:"outlined",color:"secondary",onClick:function(){return p(!0)},children:"Launch"})]}),Object(P.jsx)(l.a,{style:{backgroundColor:"#dbdbdb",margin:"10px 0"}}),Object(P.jsx)(Oe,{open:b,actions:m,children:Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{children:"Are you sure you are ready to launch?"}),Object(P.jsxs)("p",{children:["Building more ",Object(P.jsx)("span",{style:{color:"var(--color-primary)"},children:"Orbital Launch Platforms"})," and",Object(P.jsx)("span",{style:{color:"var(--color-primary)"},children:"Space Elevators"})," will increase the amount of resources you will get to bring with you. Only leave when you are sure you are ready."]})]})})]})};function we(){var e=Object(h.c)(),t=Object(a.useState)("fabricate"),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(P.jsxs)(c.a,{container:!0,spacing:2,style:{height:"100vh"},alignItems:"stretch",justify:"center",children:[Object(P.jsxs)(c.a,{item:!0,xs:12,sm:6,md:4,className:p.a.sidePanel,style:{overflow:"hidden",display:"flex",flexDirection:"column"},children:[Object(P.jsx)(E,{}),Object(P.jsx)(l.a,{style:{backgroundColor:"#dbdbdb",margin:"10px 0"}}),Object(P.jsx)(N,{}),Object(P.jsx)(l.a,{style:{backgroundColor:"#dbdbdb",margin:"10px 0"}}),Object(P.jsx)(u.a,{variant:"outlined",fullWidth:!0,onClick:function(){return e({type:B,payload:1})},children:"Mine resources"}),Object(P.jsx)(l.a,{style:{backgroundColor:"#dbdbdb",margin:"10px 0"}}),Object(P.jsx)(xe,{}),Object(P.jsx)("div",{className:p.a.comsWrapper,children:Object(P.jsx)(je,{})})]}),Object(P.jsxs)(c.a,{item:!0,xs:12,sm:6,md:4,className:p.a.sidePanel,children:[Object(P.jsxs)(d.a,{fullWidth:!0,children:[Object(P.jsx)(u.a,{variant:"fabricate"===r?"contained":"outlined",onClick:function(){return i("fabricate")},children:"Fabricate"}),Object(P.jsx)(u.a,{variant:"research"===r?"contained":"outlined",onClick:function(){return i("research")},children:"Research"})]}),"fabricate"===r?Object(P.jsx)(le,{}):Object(P.jsx)(ue,{})]})]})}var ke=n(13);var _e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(a.useRef)(e),r=Object(a.useRef)(performance.now()),i=Object(a.useRef)(performance.now());Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){var e=performance.now(),t=(e-i.current)/1e3,a=(e-r.current)/1e3;n.current({time:t,delta:a}),r.current=e}),t);return function(){return clearInterval(e)}}}),[t])};var Ie=n(68),Se=n.n(Ie);var Me=function(e){e.open;var t=Object(h.c)(),n=Object(h.d)((function(e){return e.game.storyShow.meetColony})),r=Object(a.useState)(!1),i=Object(o.a)(r,2),s=(i[0],i[1]);return n?Object(P.jsx)(Oe,{open:!0,actions:[{label:"Give Resources",onClick:function(){return t({type:J,payload:{type:"meetColony"}})}}],children:Object(P.jsxs)("div",{className:Se.a.typistWrapper,children:[Object(P.jsxs)(me.a,{startDelay:1,onTypingDone:function(){return s(!0)},cursor:{show:!0,blink:!0,element:"|",hideWhenDone:!0,hideWhenDoneDelay:250},children:[Object(P.jsx)("span",{style:{fontSize:"1.5em"},children:"Incoming transmission..."}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(me.a.Delay,{ms:1e3}),Object(P.jsx)("span",{children:"Mayday Mayday SOS..."}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(me.a.Delay,{ms:1e3}),Object(P.jsx)("span",{children:"The earth has been destroyed!"}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(me.a.Delay,{ms:1e3}),Object(P.jsx)("span",{children:"We thought we were the only humans left in the universe"}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(me.a.Delay,{ms:1e3}),Object(P.jsx)("span",{children:"3 years ago the world fell into a civil war that ended up destroying Earth and most of Mars. We are only 8 people surviving deep under the martian surface. We hae no resources to rebuild and our space port was destroyed. Without help we won't survive longer than a couple more miserable years."}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(me.a.Delay,{ms:1e3}),Object(P.jsx)("span",{children:"Please..."}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(me.a.Delay,{ms:2e3}),Object(P.jsx)("span",{children:"Help us..."}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{})]}),Object(P.jsx)("br",{})]})}):null};function Te(){var e=Object(h.c)(),t=Object(h.d)(w),n=pe(I),r=Object(h.d)((function(e){return e.colony.population})),i=pe(_),s=pe((function(e){return e.colony.buildings})),c=Object(h.d)((function(e){return e.game.paused})),l=Object(a.useState)(0),u=Object(o.a)(l,2),d=u[0],b=u[1];return _e((function(a){a.time;var r=a.delta;if(!c){e({type:B,payload:t*r});var s=Object.entries(n).reduce((function(e,t){var n=Object(o.a)(t,2),a=n[0],i=n[1];return e[a]=i*r,e}),{});e(ie(s)),(null===i||void 0===i?void 0:i.population)>=1&&(e(se({population:1})),e(re(1)))}}),40),_e((function(t){t.time;var n=t.delta;if(!c){var a,o,l,u;console.log("COLONY UPKEEP");var p=r*(n/60),h=!1;(null!==(a=i.food)&&void 0!==a?a:0)+(null!==(o=i.biomass)&&void 0!==o?o:0)>4*p&&(p*=2,h=!0);var m=Math.min(p,null!==(l=i.food)&&void 0!==l?l:0),j=p-m,f=j>(null!==(u=i.biomass)&&void 0!==u?u:0);e(se({biomass:j,food:m/2}));var y=!1;if(f?(d>=3?(e(ae("A colonist has starved to death.",3)),e(oe(-1))):e(ae(2===d?"We are starving, if we don't get food soon we will surely die.":1===d?"People are rationing and going without food, it's getting pretty bad down here.":"We are running dangerously low on food, if we dont get more soon we will need to start rationing...",3)),b((function(e){return e+1})),y=!0):h&&Math.random()>.92&&(e(ae("A new colonist has been born!",3)),e(re(1))),(null===s||void 0===s?void 0:s.medic)&&!y&&Math.random()>.95){y=!0;var g=Math.ceil(4*Math.random()),v="";switch(g){case 1:v="A colonist has come down with a bad fever... ";break;case 2:v="Two colonists got into a fight and have injured one another... ";break;case 3:v="While working on the air recyclers a colonist got their arm stuck in the machine and emergency vented the room the others were working in... ";break;case 4:v="A disease has spread through some of the colonists... ";break;default:v="A got sick... "}(null===i||void 0===i?void 0:i.meds)>=g?v+="With proper medical treatment and some bed rest they ended up alright.":(v+="Unfortunately we did not have enough medicine to save them.",e(re(-g))),e(ae(v,3))}if(!y&&Math.random()>.95){y=!0;var O=Math.ceil(Math.random()*r*.1);e(ae("We found another small pocket of survivors who have agreed to join us! ".concat(O," ").concat(1===O?"person has":"people have"," joined the colony."),3)),e(re(O))}if(!y&&Math.random()>.95){var x=Object.keys(i),w=x[Math.floor(Math.random()*x.length)],k=Math.ceil(Math.random()*r);e(ie(Object(ke.a)({},w,k))),e(ae("One of our people was exploring the ruins and found ".concat(k," ").concat(w,"!"),3))}}}),6e4),window.resetGame=function(){e({type:L})},window.addResources=function(t){e({type:B,payload:t})},window.addMessage=function(t){e(ae(t,3))},Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(Me,{})})}var Pe=n(52),Ee=n(12),We=n(125),Ce=n(49),Ne=n.n(Ce);var Re=function(){var e=pe((function(e){return e.resources.colonyResources}));return Object(P.jsxs)("div",{style:{paddingTop:"20px",display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[Object(P.jsx)("h1",{style:{margin:0},children:"Mars Colony"}),Object(P.jsxs)("h3",{style:{margin:0,opacity:.5},children:[e," - Orbital Resources"]})]})};var De=function(){var e=pe(_);return Object(P.jsx)("div",{children:Object(P.jsxs)("table",{style:{width:"100%",textAlign:"left"},children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"Resource"}),Object(P.jsx)("th",{children:"amount"})]})}),Object(P.jsx)("tbody",{children:Object.entries(e).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return"population"===n?null:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:n}),Object(P.jsx)("td",{children:a})]},"colony_resources_".concat(n))}))})]})})};var Fe=function(){var e=Object(h.c)(),t=pe((function(e){return e.colony.buildings})),n=Object(h.d)((function(e){return e.resources.colonyResources})),a=Object.entries(g).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(m.a)(Object(m.a)({},a),{},{key:n})}));return Object(P.jsx)(c.a,{container:!0,spacing:1,style:{marginTop:"10px"},children:a.map((function(r,i){var s,o;return 0===i||t[a[i-1].key]>0?Object(P.jsx)(c.a,{item:!0,xs:12,children:Object(P.jsx)(A,{title:r.title,subtitle:r.subtitle,altText:"".concat(r.workers," workers /building"),owned:t[r.key],price:ce(r,null!==(s=t[r.key])&&void 0!==s?s:0),disabled:n<ce(r,null!==(o=t[r.key])&&void 0!==o?o:0),onPurchase:function(){var n,a,i,s;e((a=r.key,i=t[r.key],s=ce(r,null!==(n=t[r.key])&&void 0!==n?n:0),{type:K,payload:{type:a,count:i,price:s}}))}})},"buildings_option_".concat(r.key)):null}))})},Ae=n(27),Le=n.n(Ae),Be=n(123),Ue=n(70),Ge=n.n(Ue),qe=n(69),Ye=n.n(qe);var ze=function(e){var t=e.name,n=e.assigned,a=e.subtitle,r=Object(h.c)();return Object(P.jsx)("div",{className:Le.a.controlWrapper,children:Object(P.jsxs)(c.a,{container:!0,children:[Object(P.jsxs)(c.a,{item:!0,xs:8,className:Le.a.titles,children:[Object(P.jsx)("h2",{children:t}),Object(P.jsx)("p",{children:a})]}),Object(P.jsxs)(c.a,{item:!0,xs:4,className:Le.a.controls,children:[Object(P.jsx)("div",{className:Le.a.assignedCount,children:Object(P.jsx)("h1",{children:null!==n&&void 0!==n?n:0})}),Object(P.jsx)("div",{className:Le.a.up,children:Object(P.jsx)(Be.a,{size:"small",onClick:function(){return r(oe(t))},children:Object(P.jsx)(Ye.a,{})})}),Object(P.jsx)("div",{className:Le.a.down,children:Object(P.jsx)(Be.a,{size:"small",onClick:function(){return r({type:te,payload:{type:t}})},children:Object(P.jsx)(Ge.a,{})})})]})]})})};var He=function(){var e=Object(h.c)(),t=Object(h.d)((function(e){return e.colony.population}));return Object(P.jsx)("div",{className:Le.a.controlWrapper,children:Object(P.jsxs)(c.a,{container:!0,children:[Object(P.jsxs)(c.a,{item:!0,xs:8,className:Le.a.titles,children:[Object(P.jsx)("h2",{children:"Sacrifice Colonist"}),Object(P.jsx)("p",{style:{fontStyle:"italic",color:"#d01c1c",fontFamily:"Cabin Sketch"},children:"A God demands blood"})]}),Object(P.jsx)(c.a,{item:!0,xs:4,children:Object(P.jsx)(u.a,{color:"secondary",onClick:function(){e(re(-1)),e(ie({blood:1}))},disabled:t<=2,fullWidth:!0,variant:"outlined",children:"Sacrifice"})})]})})};var Ve=function(){var e=pe((function(e){return e.colony.assignments})),t=pe((function(e){return e.colony.buildings})),n=function(e,t){var n,a=[],r=Object(j.a)(e.inputs);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.push("-".concat(i.numerator*t," ").concat(i.name," /").concat(i.denominator,"s"))}}catch(l){r.e(l)}finally{r.f()}var s,o=Object(j.a)(e.outputs);try{for(o.s();!(s=o.n()).done;){var c=s.value;a.push("+".concat(c.numerator*t," ").concat(c.name," /").concat(c.denominator,"s"))}}catch(l){o.e(l)}finally{o.f()}return a.join(", ")};return Object(P.jsxs)("div",{children:[Object.entries(e).map((function(e){var t=Object(o.a)(e,2),a=t[0],r=t[1],i=g[a];return i?"sacrifice"===a?null:Object(P.jsx)(ze,{name:a,assigned:r,subtitle:n(i,r)},"assignments_".concat(a)):null})),t.sacrifice&&Object(P.jsx)(He,{})]})};var Xe=function(e){var t=Object(h.d)((function(e){return e.colony.population})),n=pe(S);return Object(P.jsxs)("div",{style:{paddingTop:"20px",display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[Object(P.jsx)("h1",{style:{margin:0},children:"Assignments"}),Object(P.jsxs)("h3",{style:{marginTop:0,marginBottom:0,opacity:.5},children:[t," (",t-Object.values(n).reduce((function(e,t){return e+t}),0),") - Population"]})]})},Je={"mining 1":{title:"Improved Mining I",subtitle:"We can improve your ship with a few scraps, technology advanced quite a bit since the last time that things has seen the arc of a welder",dependencies:[],building:"",price:{steel:10,tech:10}},"mining 2":{title:"Improved Mining II",subtitle:"We have improved our machining capabilities and can now make proper upgrades to your ship.",dependencies:["mining 1"],building:"",price:{steel:2e3,tech:2e3}},"mining 3":{title:"Improved Mining III",subtitle:"Improvements come easy now, we have invented a new pulsar laser that might be able to improve mining speeds by 3 times.",dependencies:["mining 2"],building:"",price:{steel:1e4,tech:1e4}},"mining 4":{title:"Improved Mining IV",subtitle:"Divine power has been gifted to our machines, they are more powerful than we could ever be.",dependencies:["mining 3"],building:"",price:{steel:5e4,tech:5e4,blood:20}},"mining 5":{title:"Improved Mining V",subtitle:"We are the chosen among the gods, blessed be our holy mission.",dependencies:["mining 4"],building:"",price:{steel:1e6,tech:1e6,favour:200}},"biomass efficiency 1":{title:"Fortified Biomass",subtitle:"Chemically altering the biomass slurry means we can produce it at twice the rate. It still doesnt make it taste good though.",dependencies:[],building:"",price:{biomass:20,tech:40}},"biomass efficiency 2":{title:"Improved Water Recyclers",subtitle:"We have improved the efficiency of the water recyclers and the benefits look promising.",dependencies:["biomass efficiency 1"],building:"",price:{biomass:200,tech:250}},"lost manuals":{title:"Forgotten Library",subtitle:"We found manuscripts details how the lost technology works, our engineers will be able to make good use of this.",dependencies:[],building:"engineer",price:{steel:1337,tech:1337}},robotics:{title:"Robotics",subtitle:"We can enhance our advanced manufacturing research by using some reclaimed robotcs.",dependencies:["lost manuals"],building:"engineer",price:{steel:5e3,tech:5500}},"night vision goggles":{title:"Night Vision Goggles",subtitle:"We found a stash of night vision goggles, with a bit of repair we could give these to the scouts to help them look for loot at night.",dependencies:[],building:"scout",price:{steel:500,tech:1e3}},antibiotics:{title:"Antibiotics",subtitle:"Improved antibiotics means it takes half as many resources to keep people healthy.",dependencies:[],building:"medic",price:{food:7500,tech:7500}},"prayer beads":{title:"Prayer Beads",subtitle:"A holy relic that promises to bring the wearer closer to those who made him.",dependencies:[],building:"medic",price:{steel:3e4,tech:3e4}},genetics:{title:"Genome Sequencing",subtitle:"We can now birth healthier and stronger colonists at a faster rate.",dependencies:[],building:"breeder",price:{steel:1e5,tech:1e5}},hell:{title:"The Ultimate Sacrifice",subtitle:"Sacrifice all to the Old Ones",dependencies:["genetics","prayer beads","antibiotics","night vision goggles"],building:"sacrifice",price:{blood:666666666,favour:666666666}}};function Ke(){var e=Object(h.c)(),t=pe(_),n=pe((function(e){return e.colony.research})),a=pe((function(e){return e.colony.buildings})),r=function(e){for(var n=0,a=Object.entries(e);n<a.length;n++){var r=Object(o.a)(a[n],2),i=r[0],s=r[1];if(!t[i]||t[i]<s)return!1}return!0},i=function(t){var n;e((n=t.key,{type:ne,payload:{research:n}})),e(se(t.price))},s=Object.entries(Je).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(m.a)(Object(m.a)({},a),{},{key:n})})).filter((function(e){return!n.some((function(t){return t===e.key}))}));return Object(P.jsx)(c.a,{container:!0,spacing:1,style:{marginTop:"10px"},children:s.map((function(e,t){if(a[e.building]<1)return null;var s,l=Object(j.a)(e.dependencies);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(!n.includes(u))return null}}catch(d){l.e(d)}finally{l.f()}return Object(P.jsx)(c.a,{item:!0,xs:12,children:Object(P.jsx)(A,{title:e.title,subtitle:e.subtitle,altText:Object.entries(e.price).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return"".concat(a," ").concat(n)})).join(", "),price:Object.entries(e.price).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return"".concat(a," ").concat(n)})).join(", "),disabled:!r(e.price),onPurchase:function(){return i(e)}})},"engineering_option_".concat(e.key))}))})}var Ze=function(){var e=Object(a.useState)("building"),t=Object(o.a)(e,2),n=t[0],r=t[1],i=pe((function(e){return e.colony.buildings}));return Object(P.jsxs)(c.a,{container:!0,spacing:2,className:Ne.a.wrapper,children:[Object(P.jsxs)(c.a,{item:!0,xs:12,sm:4,className:Ne.a.sidePanel,children:[Object(P.jsx)(Re,{}),Object(P.jsx)(l.a,{style:{backgroundColor:"#dbdbdb",margin:"10px 0"}}),Object(P.jsx)(De,{}),Object(P.jsx)(l.a,{style:{backgroundColor:"#dbdbdb",margin:"10px 0"}}),Object(P.jsx)("div",{className:Ne.a.comsWrapper,children:Object(P.jsx)(je,{})})]}),Object(P.jsxs)(c.a,{item:!0,sm:4,xs:12,children:[Object(P.jsx)(Xe,{}),Object(P.jsx)(l.a,{style:{backgroundColor:"#dbdbdb",margin:"10px 0"}}),Object(P.jsx)(Ve,{})]}),Object(P.jsxs)(c.a,{item:!0,xs:12,sm:4,children:[Object(P.jsxs)(d.a,{fullWidth:!0,children:[Object(P.jsx)(u.a,{variant:"building"===n?"contained":"outlined",onClick:function(){return r("building")},children:"Building"}),Object(P.jsx)(We.a,{title:"Unlocked after constructing 'Engineers Workshop'",arrow:!0,placement:"top",disableHoverListener:Boolean(null===i||void 0===i?void 0:i.engineer),disableTouchListener:Boolean(null===i||void 0===i?void 0:i.engineer),disableFocusListener:Boolean(null===i||void 0===i?void 0:i.engineer),children:Object(P.jsx)(u.a,{variant:"research"===n?"contained":"outlined",onClick:function(){return r("research")},disabled:!(null===i||void 0===i?void 0:i.engineer),children:"Engineering"})})]}),"building"===n?Object(P.jsx)(Fe,{}):Object(P.jsx)(Ke,{})]})]})},$e=n(72),Qe=n.n($e);var et=function(e){var t=Object(Ee.g)(),n=Object(Ee.f)();return Object(P.jsx)("div",{className:Qe.a.wrapper,children:Object(P.jsxs)(d.a,{fullWidth:!0,children:[Object(P.jsx)(u.a,{variant:"/"===t.pathname?"contained":"outlined",onClick:function(){return n.push("/")},children:"System"}),Object(P.jsx)(u.a,{variant:"/colony"===t.pathname?"contained":"outlined",onClick:function(){return n.push("/colony")},children:"Colony"})]})})};var tt=function(){var e=Object(h.d)((function(e){return e.game.prestige}));return Object(h.d)((function(e){return e.game.paused})),Object(P.jsx)("div",{style:{padding:"8px"},children:Object(P.jsxs)(Pe.a,{children:[Object(P.jsx)(Te,{}),e>0&&Object(P.jsx)(et,{}),Object(P.jsxs)(Ee.c,{children:[e>0&&Object(P.jsx)(Ee.a,{path:"/colony",children:Object(P.jsx)(Ze,{})}),Object(P.jsx)(Ee.a,{children:Object(P.jsx)(we,{})})]})]})})},nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))},at=n(25),rt={current:0,colonyResources:0};var it=Object.keys(f).reduce((function(e,t){return e[t]=0,e}),{});var st=n(19),ot=[];var ct=[{message:"Wakey wakey, logs indicate you've been asleep for 93 years. We have arrived at the destination,  asteroid designation 'AX62'. <br/><br/> <strong>Trip Debrief:</strong> We are aproximatly 57,000AU from earth making light speed communication delay 329 days or just over 2 years round trip. During transit we encounted 33 micrometeorite collisions resulting in damage to our long range communication equipment. All other systems are above 95% active health. <br/><br/>I am <strong>IAN</strong> and will be your insanity avoidance AI for the remainder of your time in the Oort Cloud.",received:!0,delay:1,index:0}];var lt={paused:!1,prestige:0,storyShow:{meetColony:!1}};var ut={population:5,buildings:{},assignments:{},resources:{},research:[]};var dt=n(46),bt=n.n(dt),pt=Object(at.b)({resources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(m.a)(Object(m.a)({},e),{},{current:e.current+=t.payload});case U:return Object(m.a)(Object(m.a)({},e),{},{current:Math.max(e.current-=t.payload,0)});case G:case q:return Object(m.a)(Object(m.a)({},e),{},{current:Math.max(e.current-=t.payload.price,0)});case K:return Object(m.a)(Object(m.a)({},e),{},{colonyResources:e.colonyResources-t.payload.price});case X:var n=t.payload.keepPercent,a=Math.ceil(e.current*n);return Object(m.a)(Object(m.a)({},e),{},{current:0,colonyResources:e.colonyResources+a});default:return e}},sources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(m.a)(Object(m.a)({},e),{},Object(ke.a)({},t.payload.type,e[t.payload.type]+=1));case X:return it;default:return e}},upgrades:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(st.a)(new Set([].concat(Object(st.a)(e),[t.payload.id])));case X:return ot;default:return e}},communications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return[].concat(Object(st.a)(e),[Object(m.a)(Object(m.a)({},t.payload),{},{received:!1,index:e.length})]);case z:var n=Object(st.a)(e),a=n.find((function(e){return e.index===t.payload.index}));return a&&(a.received=!0),n;case H:case X:return[];case G:var r=t.payload,i=r.type,s=r.count,o=r.prestige;return o>0?e:0===s&&f[i].message?[].concat(Object(st.a)(e),[{message:f[i].message,delay:3,received:!1,index:e.length}]):e;case q:var c=t.payload,l=c.id,u=c.prestige;if(u>0)return e;var d=y.find((function(e){return e.id===l}));return(null===d||void 0===d?void 0:d.message)?[].concat(Object(st.a)(e),[{message:d.message,delay:3,received:!1,index:e.length}]):e;default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(m.a)(Object(m.a)({},e),{},{paused:!e.paused});case X:var n=Object(m.a)(Object(m.a)({},e),{},{prestige:e.prestige+1});return 1===n.prestige&&(n.storyShow.meetColony=!0,n.paused=!0),n;case J:return Object(m.a)(Object(m.a)({},e),{},{paused:!1,storyShow:Object(m.a)(Object(m.a)({},e.storyShow),{},Object(ke.a)({},t.payload.type,!1))});default:return e}},colony:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:if(t.payload.count<0){var n=Object.values(e.assignments).reduce((function(e,t){return e+t}),0),a=Math.abs(e.population+t.payload.count-n);if(e.population+t.payload.count<n){for(var r=Object(m.a)({},e.assignments),i=0,s=Object.entries(e.assignments);i<s.length;i++){var c=Object(o.a)(s[i],2),l=c[0],u=c[1];if(u>0){var d=Math.min(a,u);a-=d,r[l]=u-d}}return Object(m.a)(Object(m.a)({},e),{},{population:Math.max(e.population+t.payload.count,1),assignments:r})}}return Object(m.a)(Object(m.a)({},e),{},{population:Math.max(e.population+t.payload.count,1)});case $:for(var b=Object(m.a)({},e.resources),p=0,h=Object.entries(t.payload.increases);p<h.length;p++){var f,y=Object(o.a)(h[p],2),v=y[0],O=y[1];b[v]=(null!==(f=e.resources[v])&&void 0!==f?f:0)+O}return Object(m.a)(Object(m.a)({},e),{},{resources:b});case Q:for(var x=Object(m.a)({},e.resources),w=0,k=Object.entries(t.payload.decreases);w<k.length;w++){var _,I=Object(o.a)(k[w],2),S=I[0],M=I[1];x[S]&&(x[S]=Math.max((null!==(_=x[S])&&void 0!==_?_:0)-M,0))}return Object(m.a)(Object(m.a)({},e),{},{resources:x});case K:var T,P,E,W=t.payload.type,C=g[W],N={},R=Object(j.a)(C.outputs);try{for(R.s();!(E=R.n()).done;){var D,F=E.value;N[F.name]=null!==(D=e.resources[F.name])&&void 0!==D?D:0}}catch(be){R.e(be)}finally{R.f()}var A,L=Object(j.a)(C.inputs);try{for(L.s();!(A=L.n()).done;){var B,U=A.value;N[U.name]=null!==(B=e.resources[U.name])&&void 0!==B?B:0}}catch(be){L.e(be)}finally{L.f()}return Object(m.a)(Object(m.a)({},e),{},{buildings:Object(m.a)(Object(m.a)({},e.buildings),{},Object(ke.a)({},W,(null!==(T=e.buildings[W])&&void 0!==T?T:0)+1)),resources:Object(m.a)(Object(m.a)({},e.resources),N),assignments:Object(m.a)(Object(m.a)({},e.assignments),{},Object(ke.a)({},W,null!==(P=e.assignments[W])&&void 0!==P?P:0))});case ee:var G,q=t.payload.type,Y=Object(m.a)({},e.assignments),z=g[t.payload.type],H=z.workers*e.buildings[t.payload.type];if(e.assignments[t.payload.type]>=H)return e;for(var V=Object.values(e.assignments).reduce((function(e,t){return e+t}),0),X=V+1-e.population,J=0;J<X;J++)for(var ae=0,re=Object.entries(Y);ae<re.length;ae++){var ie=Object(o.a)(re[ae],2),se=ie[0],oe=ie[1];if(oe>0&&se!==q){Y[se]-=1,X-=1;break}}return Y[q]=Math.min((null!==(G=Y[q])&&void 0!==G?G:0)+1,H,e.population),Object(m.a)(Object(m.a)({},e),{},{assignments:Y});case te:var ce,le=t.payload.type,ue=Object(m.a)({},e.assignments);return ue[le]=Math.max((null!==(ce=ue[le])&&void 0!==ce?ce:0)-1,0),Object(m.a)(Object(m.a)({},e),{},{assignments:ue});case ne:var de=t.payload.research;return Object(m.a)(Object(m.a)({},e),{},{research:Object(st.a)(new Set([].concat(Object(st.a)(e.research),[de])))});default:return e}}}),ht=n(56),mt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||at.c,jt={key:"root",storage:bt.a},ft=Object(ht.a)(jt,(function(e,t){return t.type===L?(bt.a.removeItem("persist:root"),pt(void 0,t)):pt(e,t)})),yt=Object(at.d)(ft,mt(Object(at.a)())),gt=Object(ht.b)(yt),vt=n(124),Ot=n(74),xt=Object(Ot.a)({palette:{type:"dark"}}),wt=n(73);s.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(h.a,{store:yt,children:Object(P.jsx)(wt.a,{loading:null,persistor:gt,children:Object(P.jsx)(vt.a,{theme:xt,children:Object(P.jsx)(tt,{})})})})}),document.getElementById("root")),nt()}},[[99,1,2]]]);
//# sourceMappingURL=main.18a09a36.chunk.js.map